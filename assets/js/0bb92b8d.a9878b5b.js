"use strict";(self.webpackChunkmapml_viewer_doc=self.webpackChunkmapml_viewer_doc||[]).push([[5486],{7888:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"api/map-link-api","title":"HTMLLinkElement","description":"The ` element is intended to implement an extension of the HTML `","source":"@site/docs/api/map-link-api.md","sourceDirName":"api","slug":"/api/map-link-api","permalink":"/web-map-doc/docs/api/map-link-api","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"map-link-api","title":"HTMLLinkElement","slug":"/api/map-link-api"},"sidebar":"sidebar","previous":{"title":"HTMLExtentElement","permalink":"/web-map-doc/docs/api/map-extent-api"},"next":{"title":"HTMLStyleElement","permalink":"/web-map-doc/docs/api/map-style-api"}}');var l=n(4848),s=n(8453);const r={id:"map-link-api",title:"HTMLLinkElement",slug:"/api/map-link-api"},a="HTMLLinkElement",d={},c=[{value:"Properties",id:"properties",level:2},{value:"media",id:"media",level:3},{value:"Custom Tiles",id:"custom-tiles",level:2},{value:"<code>tileloadstart</code> Event",id:"tileloadstart-event",level:3},{value:"Example",id:"example",level:3},{value:"Custom Image",id:"custom-image",level:2},{value:"Specifications",id:"specifications",level:2},{value:"Requirements",id:"requirements",level:2}];function o(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"htmllinkelement",children:"HTMLLinkElement"})}),"\n",(0,l.jsxs)(t.p,{children:["The ",(0,l.jsx)(t.code,{children:"<map-link>"})," element is intended to implement an extension of the HTML ",(0,l.jsx)(t.code,{children:"<link>"}),"\nelement and ",(0,l.jsx)(t.code,{children:"HTMLLinkElement"})," API. This document reflects proposed changes to that\nAPI and is a work in progress."]}),"\n",(0,l.jsx)(t.h2,{id:"properties",children:"Properties"}),"\n",(0,l.jsx)(t.h3,{id:"media",children:"media"}),"\n",(0,l.jsxs)(t.p,{children:["Reflects the ",(0,l.jsx)(t.a,{href:"../elements/link#media",children:"media"})," attribute of the ",(0,l.jsx)(t.code,{children:"<map-link>"})," element."]}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.p,{children:'This document is copied from the old "Custom Rendering API" page, and is under\nconstruction.  It will eventually describe the API of the map-link custom element;\nthe "Custom Rendering API" is currently sourced from the map-link custom element,\nwhich may change in the future.'}),"\n",(0,l.jsx)(t.p,{children:"The Custom Rendering API allows developers to circumvent MapML's rendering and draw anything within\nHTML's domain onto the map."}),"\n",(0,l.jsx)(t.h2,{id:"custom-tiles",children:"Custom Tiles"}),"\n",(0,l.jsxs)(t.p,{children:["To render custom tiles using JavaScript, listen for the ",(0,l.jsx)(t.code,{children:"tileloadstart"})," event on a templated layer's ",(0,l.jsx)(t.code,{children:'<map-link rel="tile">'})," element."]}),"\n",(0,l.jsxs)(t.h3,{id:"tileloadstart-event",children:[(0,l.jsx)(t.code,{children:"tileloadstart"})," Event"]}),"\n",(0,l.jsx)(t.p,{children:"This event is fired when a tile is first being created, the event contains the following structure in its detail property:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-js",children:"{\n  x: 1,    // tilematrix x value of the tile loaded\n  y: 2,    // tilematrix y value of the tile loaded\n  zoom: 3, // zoom level of the tile loaded\n  appendTile: function appendTile ( customTile ) {...} // pass custom tile as an argument to function\n}\n"})}),"\n",(0,l.jsx)(t.h3,{id:"example",children:"Example"}),"\n",(0,l.jsx)(t.p,{children:"The map:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-html",children:'<mapml-viewer projection="OSMTILE" zoom="0" lat="45" lon="-75" controls>\n  <map-layer label="Custom Tiles" checked>\n    <map-meta name="zoom" content="min=0,max=23" ></map-meta>\n    <map-extent units="OSMTILE" checked hidden>\n      <map-input name="zoomLevel" type="zoom" min="0" max="23" value="1" ></map-input>\n      <map-input name="row" type="location" axis="row" units="tilematrix" min="0" max="2" ></map-input>\n      <map-input name="col" type="location" axis="column" units="tilematrix" min="0" max="2" ></map-input>\n      \x3c!-- listen for the tileloadstart event on this element --\x3e\n      <map-link rel="tile" title="" tref="" ></map-link>\n    </map-extent>\n  </map-layer>\n</mapml-viewer>\n'})}),"\n",(0,l.jsx)(t.p,{children:"The JavaScript for creating custom tiles:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{className:"language-js",children:'let layer = document.querySelector("body > mapml-viewer > map-layer > map-extent > map-link");\n    layer.addEventListener("tileloadstart", (e) => {\n      let customTile = document.createElement("p");\n      customTile.innerHTML = `x: ${e.detail.x} y: ${e.detail.y} zoom: ${e.detail.zoom}`;\n      e.detail.appendTile(customTile);\n    });\n'})}),"\n",(0,l.jsxs)(t.p,{children:["In this example the ",(0,l.jsx)(t.code,{children:"customTile"})," is an HTML ",(0,l.jsx)(t.code,{children:"<p>"}),", but you can use any HTML Element. Simply append the\ncreated element using the ",(0,l.jsx)(t.code,{children:"(tileloadstart event).detail.appendTile()"})," function, passing the custom tile as an argument of the function."]}),"\n",(0,l.jsx)(t.h2,{id:"custom-image",children:"Custom Image"}),"\n",(0,l.jsx)(t.admonition,{type:"important",children:(0,l.jsx)(t.p,{children:"Needs to be implemented."})}),"\n",(0,l.jsx)(t.h2,{id:"specifications",children:"Specifications"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsx)(t.tr,{children:(0,l.jsx)(t.th,{children:"Specification"})})}),(0,l.jsx)(t.tbody,{children:(0,l.jsx)(t.tr,{children:(0,l.jsx)(t.td,{children:(0,l.jsx)(t.a,{href:"https://maps4html.org/MapML-Specification/spec/#the-link-element",children:"HTMLLinkElement - not (fully) specified yet"})})})})]}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsx)(t.h2,{id:"requirements",children:"Requirements"}),"\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.a,{href:"https://github.com/Maps4HTML/HTML-Map-Element-UseCases-Requirements/issues/new?title=-SUMMARIZE+THE+PROBLEM-&body=-DESCRIBE+THE+PROBLEM-",children:"Report problems with these requirements on GitHub"})}),"\n",(0,l.jsx)("p",{children:(0,l.jsxs)("b",{children:[(0,l.jsx)("span",{class:"requirement",children:"requirement"}),"\n",(0,l.jsx)("span",{class:"enhancement",children:"enhancement"}),"\n",(0,l.jsx)("span",{class:"impractical",children:"impractical"}),"\n",(0,l.jsx)("span",{class:"undecided",children:"undecided"}),"\n",(0,l.jsx)("span",{class:"discussion",children:"under discussion"})]})}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{style:{textAlign:"left"}}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Spec"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"Viewer"}),(0,l.jsx)(t.th,{style:{textAlign:"center"},children:"API"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.a,{href:"#properties",children:(0,l.jsx)(t.strong,{children:"Properties"})})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"n/a"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"n/a"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"n/a"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.a,{href:"#methods",children:(0,l.jsx)(t.strong,{children:"Methods"})})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"n/a"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"n/a"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"n/a"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{style:{textAlign:"left"},children:(0,l.jsx)(t.a,{href:"#events",children:(0,l.jsx)(t.strong,{children:"Events"})})}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"none"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"n/a"}),(0,l.jsx)(t.td,{style:{textAlign:"center"},children:"partial *"})]})]})]}),"\n",(0,l.jsxs)(n,{children:[(0,l.jsx)("summary",{children:"Exceptions *"}),(0,l.jsx)("ol",{children:(0,l.jsx)("li",{children:"The <map-link> element will emit the tileloadstart event, but it's behaviour is experimental and requires markup to conform to the example given above"})})]}),"\n",(0,l.jsx)(t.hr,{}),"\n",(0,l.jsxs)(t.blockquote,{children:["\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:(0,l.jsxs)(t.a,{href:"https://github.com/Maps4HTML/web-map-doc/edit/main/docs/api/map-link-api.md",children:["Edit this page on ",(0,l.jsx)(t.strong,{children:"Github"})]})}),"\n",(0,l.jsx)(t.li,{children:(0,l.jsxs)(t.a,{href:"https://gitter.im/Maps4HTML/chat",children:["Chat with us on ",(0,l.jsx)(t.strong,{children:"Gitter"})]})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var i=n(6540);const l={},s=i.createContext(l);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);