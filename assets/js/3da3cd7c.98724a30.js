"use strict";(self.webpackChunkmapml_viewer_doc=self.webpackChunkmapml_viewer_doc||[]).push([[6577],{3671:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var o=t(4848),a=t(8453);const i={id:"geometry",title:"<map-geometry>",slug:"/elements/geometry/"},r=void 0,l={id:"elements/geometry",title:"<map-geometry>",description:"A ` element is a child of ` and is used to describe the geometry of the feature.",source:"@site/docs/elements/geometry.md",sourceDirName:"elements",slug:"/elements/geometry/",permalink:"/web-map-doc/docs/elements/geometry/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"geometry",title:"<map-geometry>",slug:"/elements/geometry/"},sidebar:"sidebar",previous:{title:"<map-feature>",permalink:"/web-map-doc/docs/elements/feature/"},next:{title:"<map-properties>",permalink:"/web-map-doc/docs/elements/properties/"}},s={},c=[{value:"Attributes",id:"attributes",level:2},{value:"<code>cs</code>",id:"cs",level:3},{value:"Child Elements",id:"child-elements",level:2},{value:"<code>&lt;map-point&gt;</code>",id:"map-point",level:3},{value:"<code>&lt;map-linestring&gt;</code>",id:"map-linestring",level:3},{value:"<code>&lt;map-polygon&gt;</code>",id:"map-polygon",level:3},{value:"<code>&lt;map-multipoint&gt;</code>",id:"map-multipoint",level:3},{value:"<code>&lt;map-multilinestring&gt;</code>",id:"map-multilinestring",level:3},{value:"<code>&lt;map-multipolygon&gt;</code>",id:"map-multipolygon",level:3},{value:"<code>&lt;map-geometrycollection&gt;</code>",id:"map-geometrycollection",level:3},{value:"Examples",id:"examples",level:2},{value:"Point",id:"point",level:3},{value:"LineString",id:"linestring",level:3},{value:"Polygon",id:"polygon",level:3},{value:"MultiPoint",id:"multipoint",level:3},{value:"MultiLineString",id:"multilinestring",level:3},{value:"MultiPolygon",id:"multipolygon",level:3},{value:"GeometryCollection",id:"geometrycollection",level:3},{value:"Specifications",id:"specifications",level:2}];function m(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.code,{children:"<map-geometry>"})," element is a child of ",(0,o.jsx)(n.code,{children:"<map-feature>"})," and is used to describe the geometry of the feature."]}),"\n",(0,o.jsxs)(n.p,{children:["A ",(0,o.jsx)(n.code,{children:"<map-geometry>"})," element has one child element, which can be a ",(0,o.jsx)(n.code,{children:"<map-point>"}),", ",(0,o.jsx)(n.code,{children:"<map-linestring>"}),", ",(0,o.jsx)(n.code,{children:"<map-polygon>"}),", ",(0,o.jsx)(n.code,{children:"<map-multipoint>"}),", ",(0,o.jsx)(n.code,{children:"<map-multilinestring>"}),", ",(0,o.jsx)(n.code,{children:"<map-multipolygon>"}),", or ",(0,o.jsx)(n.code,{children:"<map-geometrycollection>"}),"."]}),"\n",(0,o.jsx)("iframe",{src:"../../../demo/map-geometry-demo/",title:"MapML Demo",height:"410",width:"100%",scrolling:"no",frameBorder:"0"}),"\n",(0,o.jsx)(n.h2,{id:"attributes",children:"Attributes"}),"\n",(0,o.jsx)(n.h3,{id:"cs",children:(0,o.jsx)(n.code,{children:"cs"})}),"\n",(0,o.jsxs)(n.p,{children:["Defines the Coordinate System of the geometry. When no ",(0,o.jsx)(n.code,{children:"cs"})," is provided, the coordinate system of descendant ",(0,o.jsx)(n.code,{children:"<map-coordinates>"})," elements is determined by a fallback to any in-scope ",(0,o.jsx)(n.code,{children:'<map-meta name="cs" content="...">'}),".  If no fallback coordinate system is identified by a ",(0,o.jsx)(n.code,{children:"<map-meta>"})," element, the default value of ",(0,o.jsx)(n.code,{children:"pcrs"})," (projected coordinates) is used."]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"CRS"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"tcrs"}),(0,o.jsx)(n.td,{children:"For each zoom level (i.e. at a pre-defined scale denominator value), locations are expressed in terms of scaled pixels, with the origin of pixel space at the upper left corner.  The pixel coordinates of a location at a single zoom level are independent of the pixel coordinates of a location any other zoom level.  In other words, you need to know the zoom level of a tcrs coordinate in order to locate it on a map or otherwise process it."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"tilematrix"}),(0,o.jsxs)(n.td,{children:["Each zoom level has an array of tiles, called a tilematrix.  The individual tiles constitute the coordinates in this CRS, and the axes are know as ",(0,o.jsx)(n.code,{children:"row"})," and ",(0,o.jsx)(n.code,{children:"column"}),".  The tiles are defined as squares of 256 pixels in the associated tcrs of the particular zoom level."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"pcrs"}),(0,o.jsxs)(n.td,{children:['Projected CRS (pcrs) are defined by a mathematical relationship with an underlying gcrs, using a technique called "projection". pcrs coordinates are scale- and zoom level-independent, and are designed to represent geographic coordinates on a planar surface, such as a device screen. The measurement units of pcrs coordinates is ',(0,o.jsx)(n.em,{children:"usually"})," meters (a notable exception being pcrs coordinates in the ",(0,o.jsx)(n.code,{children:"WGS84"})," projection)."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"gcrs"}),(0,o.jsx)(n.td,{children:"Geographic coordinates are referenced to various ellipsoids, and are not necessarily comparable across projections.  A common ellipsoid today is WGS 84, which is defined and used by the global positioning satellite (GPS) constellation."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"map"}),(0,o.jsx)(n.td,{children:"The map CRS is dynamic, in the sense that it has its origin at the upper left of the user's viewport, with scaled pixels as units.  This is used to identify image coordinates for use, typically by WMS and similar services which use a virtual image to enable query of map feature property information, without necessarily transferring the features over the network."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"tile"}),(0,o.jsx)(n.td,{children:"Each tile in any zoom level has an implicit scaled-pixel coordinate system ranging from 0 to 255 in both horizontal and vertical directions. These coordinates are used by WMTS and similar services to identify a pixel for query of feature property values, without transferring the feature geometry over the network."})]})]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"child-elements",children:"Child Elements"}),"\n",(0,o.jsx)(n.h3,{id:"map-point",children:(0,o.jsx)(n.code,{children:"<map-point>"})}),"\n",(0,o.jsxs)(n.p,{children:["This element contains a ",(0,o.jsx)(n.code,{children:"<map-coordinates>"})," element containing a single position. Axis order - x followed by y, separated by whitespace. Note that longitude and latitude (gcrs coordinates) are listed in that order, always, in all geometry types."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"map-linestring",children:(0,o.jsx)(n.code,{children:"<map-linestring>"})}),"\n",(0,o.jsxs)(n.p,{children:["This element contains a ",(0,o.jsx)(n.code,{children:"<map-coordinates>"})," element containing two or more positions. Axis order - x followed by y, separated by whitespace."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"map-polygon",children:(0,o.jsx)(n.code,{children:"<map-polygon>"})}),"\n",(0,o.jsxs)(n.p,{children:["This element contains one or more ",(0,o.jsx)(n.code,{children:"<map-coordinates>"})," elements, each containing three or more positions. Axis order - x followed by y, separated by whitespace."]}),"\n",(0,o.jsxs)(n.p,{children:["The first and last positions in every child ",(0,o.jsx)(n.code,{children:"<map-coordinates>"})," element are equal / at the same position."]}),"\n",(0,o.jsxs)(n.p,{children:["The first ",(0,o.jsx)(n.code,{children:"<map-coordinates>"})," element represents the outside of the polygon, and subsequent ",(0,o.jsx)(n.code,{children:"<map-coordinates>"}),' elements represent holes. The "winding order" of positions in child ',(0,o.jsx)(n.code,{children:"<map-coordinates>"})," should depend on the axis orientation of the coordinate reference system in use, and whether the ",(0,o.jsx)(n.code,{children:"<map-coordinates>"})," element represents the exterior of a polygon, or a hole. For WGS84, the exterior should be counterclockwise and holes should be clockwise."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"map-multipoint",children:(0,o.jsx)(n.code,{children:"<map-multipoint>"})}),"\n",(0,o.jsxs)(n.p,{children:["This element contains a ",(0,o.jsx)(n.code,{children:"<map-coordinates>"})," element, containing one or more positions. Axis order - x followed by y, separated by whitespace."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"map-multilinestring",children:(0,o.jsx)(n.code,{children:"<map-multilinestring>"})}),"\n",(0,o.jsxs)(n.p,{children:["This element contains one or more ",(0,o.jsx)(n.code,{children:"<map-coordinates>"})," elements, each containing two or more positions. Axis order - x followed by y, separated by whitespace."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"map-multipolygon",children:(0,o.jsx)(n.code,{children:"<map-multipolygon>"})}),"\n",(0,o.jsxs)(n.p,{children:["This element contains the contents one or more ",(0,o.jsx)(n.code,{children:"<map-polygon>"})," elements. Axis order - x followed by y, separated by whitespace."]}),"\n",(0,o.jsxs)(n.p,{children:["For each member polygon, the same non-schema constraints apply to multipolygon descendant ",(0,o.jsx)(n.code,{children:"<map-coordinates>"})," elements, as for polygon ",(0,o.jsx)(n.code,{children:"<map-coordinates>"})," descendant elements."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"map-geometrycollection",children:(0,o.jsx)(n.code,{children:"<map-geometrycollection>"})}),"\n",(0,o.jsxs)(n.p,{children:["This element contains one or more ",(0,o.jsx)(n.code,{children:"<map-point>"}),", ",(0,o.jsx)(n.code,{children:"<map-linestring>"}),", ",(0,o.jsx)(n.code,{children:"<map-polygon>"}),", ",(0,o.jsx)(n.code,{children:"<map-multipoint>"}),", ",(0,o.jsx)(n.code,{children:"<map-multilinestring>"}),", ",(0,o.jsx)(n.code,{children:"<map-multipolygon>"})," elements."]}),"\n",(0,o.jsx)(n.p,{children:"For each member geometry, the same non-schema constraints apply as to the unique geometry type above."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,o.jsx)(n.h3,{id:"point",children:"Point"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<mapml-viewer projection="OSMTILE" zoom="10" lon="-75.7" lat="45.4" controls>\n  <map-layer label="OpenStreetMap" src="../data/osm.mapml" checked></map-layer>\n  <map-layer label="Point Geometry" checked>\n    <map-meta name="projection" content="OSMTILE"></map-meta>\n    <map-feature>\n      <map-featurecaption>Point</map-featurecaption>\n      \x3c!-- Setting the geometry coordinates to gcrs, as the default is pcrs --\x3e\n      <map-geometry cs="gcrs">\n        <map-point class="point">\n          <map-coordinates>-75.6916809 45.4186964</map-coordinates>\n        </map-point>\n      </map-geometry>\n      <map-properties><h2>This is a Point</h2></map-properties>\n    </map-feature>\n  </map-layer>\n</mapml-viewer>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"linestring",children:"LineString"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<mapml-viewer projection="OSMTILE" zoom="10" lon="-75.7" lat="45.4" controls>\n  <map-layer label="OpenStreetMap" src="../data/osm.mapml" checked></map-layer>\n  <map-layer label="Line Geometry" checked>\n    <map-meta name="projection" content="OSMTILE"></map-meta>\n    <map-feature>\n      <map-featurecaption>Line</map-featurecaption>\n      \x3c!-- Setting the geometry coordinates to gcrs, as the default is pcrs --\x3e\n      <map-geometry cs="gcrs">\n        <map-linestring class="line">\n          <map-coordinates>-75.6168365 45.471929 -75.6855011 45.458445 -75.7016373 45.4391764 -75.7030106 45.4259255 -75.7236099 45.4208652 -75.7565689 45.4117074 -75.7833481 45.384225 -75.8197403 45.3714435 -75.8516693 45.377714</map-coordinates>\n        </map-linestring>\n      </map-geometry>\n      <map-properties><h2>This is a Line</h2></map-properties>\n    </map-feature>\n  </map-layer>\n</mapml-viewer>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"polygon",children:"Polygon"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<mapml-viewer projection="OSMTILE" zoom="10" lon="-75.7" lat="45.4" controls>\n  <map-layer label="OpenStreetMap" src="../data/osm.mapml" checked></map-layer>\n  <map-layer label="Polygon Geometry" checked>\n    <map-meta name="projection" content="OSMTILE"></map-meta>\n    <map-feature>\n      <map-featurecaption>Polygon</map-featurecaption>\n      \x3c!-- Setting the geometry coordinates to gcrs, as the default is pcrs --\x3e\n      <map-geometry cs="gcrs">\n        <map-polygon class="polygon">\n          <map-coordinates>-75.5859375 45.4656690 -75.6813812 45.4533876 -75.6961441 45.4239978 -75.7249832 45.4083331 -75.7792282 45.3772317 -75.7534790 45.3294614 -75.5831909 45.3815724 -75.6024170 45.4273712 -75.5673981 45.4639834 -75.5859375 45.4656690</map-coordinates>\n          <map-coordinates>-75.6596588 45.4211062 -75.6338958 45.4254436 -75.6277127 45.4066458 -75.6572542 45.4097792 -75.6596588 45.4211062</map-coordinates>\n        </map-polygon>\n      </map-geometry>\n      <map-properties><h2>This is a Polygon</h2></map-properties>\n    </map-feature>\n  </map-layer>\n</mapml-viewer>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"multipoint",children:"MultiPoint"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<mapml-viewer projection="OSMTILE" zoom="10" lon="-75.7" lat="45.4" controls>\n  <map-layer label="OpenStreetMap" src="../data/osm.mapml" checked></map-layer>\n  <map-layer label="MultiPoint Geometry" checked>\n    <map-meta name="projection" content="OSMTILE"></map-meta>\n    <map-feature>\n      <map-featurecaption>MultiPoint</map-featurecaption>\n      \x3c!-- Setting the geometry coordinates to gcrs, as the default is pcrs --\x3e\n      <map-geometry cs="gcrs">\n        <map-multipoint class="point">\n          <map-coordinates>-75.7016373 45.4391764 -75.7236099 45.4208652 -75.7833481 45.384225</map-coordinates>\n        </map-multipoint>\n      </map-geometry>\n      <map-properties><h2>This is a multipoint</h2></map-properties>\n    </map-feature>\n  </map-layer>\n</mapml-viewer>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"multilinestring",children:"MultiLineString"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<mapml-viewer projection="OSMTILE" zoom="10" lon="-75.7" lat="45.4" controls>\n  <map-layer label="OpenStreetMap" src="../data/osm.mapml" checked></map-layer>\n  <map-layer label="MultiLineString Geometry" checked>\n    <map-meta name="projection" content="OSMTILE"></map-meta>\n    <map-feature>\n      <map-featurecaption>MultiLineString</map-featurecaption>\n      \x3c!-- Setting the geometry coordinates to gcrs, as the default is pcrs --\x3e\n      <map-geometry cs="gcrs">\n        <map-multilinestring class="line">\n          <map-coordinates>-75.6168365 45.471929 -75.6855011 45.458445 -75.7016373 45.4391764 -75.7030106 45.4259255</map-coordinates>\n          <map-coordinates>-75.7565689 45.4117074 -75.7833481 45.384225 -75.8197403 45.3714435 -75.8516693 45.377714</map-coordinates>\n        </map-multilinestring>\n      </map-geometry>\n      <map-properties><h2>This is a MultiLineString</h2></map-properties>\n    </map-feature>\n  </map-layer>\n</mapml-viewer>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"multipolygon",children:"MultiPolygon"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<mapml-viewer projection="OSMTILE" zoom="10" lon="-75.7" lat="45.4" controls>\n  <map-layer label="OpenStreetMap" src="../data/osm.mapml" checked></map-layer>\n  <map-layer label="MultiPolygon Geometry" checked>\n    <map-meta name="projection" content="OSMTILE"></map-meta>\n    <map-feature>\n      <map-featurecaption>MultiPolygon</map-featurecaption>\n      \x3c!-- Setting the geometry coordinates to gcrs, as the default is pcrs --\x3e\n      <map-geometry cs="gcrs">\n        <map-multipolygon class="polygon">\n          <map-polygon>\n          \t<map-coordinates>-75.5859375 45.4656690 -75.6813812 45.4533876 -75.6961441 45.4239978 -75.7249832 45.4083331 -75.7792282 45.3772317 -75.7534790 45.3294614 -75.5831909 45.3815724 -75.6024170 45.4273712 -75.5673981 45.4639834 -75.5859375 45.4656690</map-coordinates>\n          </map-polygon>\n          <map-polygon>\n          \t<map-coordinates>-75.6744295 45.4728920 -75.7053451 45.4439942 -75.7063756 45.4249616 -75.7489704 45.4177324 -75.7788555 45.4003785 -75.7943133 45.4321899 -75.6744295 45.4728920</map-coordinates>\n          </map-polygon>\n        </map-multipolygon>\n      </map-geometry>\n      <map-properties><h2>This is a MultiPolygon</h2></map-properties>\n    </map-feature>\n  </map-layer>\n</mapml-viewer>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"geometrycollection",children:"GeometryCollection"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:'<mapml-viewer projection="OSMTILE" zoom="10" lon="-75.7" lat="45.4" controls>\n  <map-layer label="OpenStreetMap" src="../data/osm.mapml" checked></map-layer>\n  <map-layer label="Geometry Collection" checked>\n    <map-meta name="projection" content="OSMTILE"></map-meta>\n    <map-feature>\n      <map-featurecaption>Geometry Collection</map-featurecaption>\n      \x3c!-- Setting the geometry coordinates to gcrs, as the default is pcrs --\x3e\n      <map-geometry cs="gcrs">\n        <map-geometrycollection>\n          <map-polygon class="polygon">\n            <map-coordinates>-75.5859375 45.4656690 -75.6813812 45.4533876 -75.6961441 45.4239978 -75.7249832 45.4083331 -75.7792282 45.3772317 -75.7534790 45.3294614 -75.5831909 45.3815724 -75.6024170 45.4273712 -75.5673981 45.4639834 -75.5859375 45.4656690</map-coordinates>\n          </map-polygon>\n          <map-linestring class="line">\n            <map-coordinates>-75.6168365 45.471929 -75.6855011 45.458445 -75.7016373 45.4391764 -75.7030106 45.4259255 -75.7236099 45.4208652 -75.7565689 45.4117074 -75.7833481 45.384225 -75.8197403 45.3714435 -75.8516693 45.377714</map-coordinates>\n          </map-linestring>\n          <map-point class="point">\n            <map-coordinates>-75.6916809 45.4186964</map-coordinates>\n          </map-point>\n        </map-geometrycollection>\n      </map-geometry>\n      <map-properties><h2>This is a Geometry Collection</h2></map-properties>\n    </map-feature>\n  </map-layer>\n</mapml-viewer>\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"specifications",children:"Specifications"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsx)(n.tr,{children:(0,o.jsx)(n.th,{children:"Specification"})})}),(0,o.jsx)(n.tbody,{children:(0,o.jsx)(n.tr,{children:(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"https://maps4html.org/MapML-Specification/spec/#the-geometry-element-0",children:"MapML geometry element"})})})})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsxs)(n.a,{href:"https://github.com/Maps4HTML/web-map-doc/edit/main/docs/elements/geometry.md",children:["Edit this page on ",(0,o.jsx)(n.strong,{children:"Github"})]})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsxs)(n.a,{href:"https://gitter.im/Maps4HTML/chat",children:["Chat with us on ",(0,o.jsx)(n.strong,{children:"Gitter"})]})}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var o=t(6540);const a={},i=o.createContext(a);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);