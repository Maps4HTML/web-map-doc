"use strict";(self.webpackChunkmapml_viewer_doc=self.webpackChunkmapml_viewer_doc||[]).push([[9481],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return d}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),m=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},s=function(e){var t=m(e.components);return a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),c=m(n),d=i,h=c["".concat(o,".").concat(d)]||c[d]||u[d]||r;return n?a.createElement(h,l(l({ref:t},s),{},{components:n})):a.createElement(h,l({ref:t},s))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=c;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:i,l[1]=p;for(var m=2;m<r;m++)l[m]=n[m];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},5267:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return p},contentTitle:function(){return o},metadata:function(){return m},toc:function(){return s},default:function(){return c}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),l=["components"],p={id:"extent",title:"<map-extent>: The Extent element",slug:"/elements/extent/"},o=void 0,m={unversionedId:"elements/extent",id:"elements/extent",title:"<map-extent>: The Extent element",description:"The `` element is a hypertext control that is associated to and represents the",source:"@site/docs/elements/extent.md",sourceDirName:"elements",slug:"/elements/extent/",permalink:"/web-map-doc/docs/elements/extent/",tags:[],version:"current",frontMatter:{id:"extent",title:"<map-extent>: The Extent element",slug:"/elements/extent/"},sidebar:"sidebar",previous:{title:"<layer->: The Layer element",permalink:"/web-map-doc/docs/layers/layer/"},next:{title:"<map-input>: The Input element",permalink:"/web-map-doc/docs/elements/input/"}},s=[{value:"Attributes",id:"attributes",children:[{value:"<code>units</code>",id:"units",children:[],level:3},{value:"<code>label</code>",id:"label",children:[],level:3}],level:2},{value:"Events",id:"events",children:[],level:2},{value:"Examples",id:"examples",children:[{value:"Multiple Extent",id:"multiple-extent",children:[],level:3},{value:"WMS Request",id:"wms-request",children:[],level:3}],level:2}],u={toc:s};function c(e){var t=e.components,n=(0,i.Z)(e,l);return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"<map-extent>")," element is a hypertext control that is associated to and represents the\nrectangle of the map viewport, from the user's perspective.  Map authors use it\nto compose server requests for layer content. Requests are composed using\nURL templates processed by the browser as the map moves and requires new content\nto paint.  The URL templates each contain one or more variable references, with each\nvariable reference denoted by the name of the variable enclosed in braces ",(0,r.kt)("inlineCode",{parentName:"p"},"{}"),"."),(0,r.kt)("p",null,"Variables are created by the map author using the ",(0,r.kt)("inlineCode",{parentName:"p"},"<map-input>")," element.  There are\nseveral types of ",(0,r.kt)("inlineCode",{parentName:"p"},"<map-input>"),", allowing the map author to reference the corners\nof the extent, its width and height, and its zoom."),(0,r.kt)("p",null,"An example of a ",(0,r.kt)("inlineCode",{parentName:"p"},"<map-extent>")," element being used to load image tiles for a single\nURL template."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<layer- label="OpenStreetMap" checked>\n  <map-extent units="OSMTILE">\n    <map-input name="z" type="zoom" value="18" min="0" max="18"></map-input>\n    <map-input name="s" type="hidden" shard="true" list="servers"></map-input>\n    <map-datalist id="servers">\n      <map-option value="a"></map-option>\n      <map-option value="b"></map-option>\n      <map-option value="c"></map-option>\n    </map-datalist>\n    <map-input name="x" type="location" units="tilematrix" axis="column" min="0" max="262144"></map-input>\n    <map-input name="y" type="location" units="tilematrix" axis="row" min="0" max="262144"></map-input>\n    <map-link rel="tile" tref="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"></map-link>\n  </map-extent>\n</layer->\n')),(0,r.kt)("iframe",{src:"../../../demo/extent-demo/",title:"MapML Demo",height:"410",width:"100%",scrolling:"no",frameBorder:"0"}),(0,r.kt)("h2",{id:"attributes"},"Attributes"),(0,r.kt)("h3",{id:"units"},(0,r.kt)("inlineCode",{parentName:"h3"},"units")),(0,r.kt)("p",null,"Specifies the projection of the tiles and other content that is expected from the\nserver.  If the projection value is not a case-sensitive match of the ",(0,r.kt)("inlineCode",{parentName:"p"},"<mapml-viewer>"),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"projection")," attribute, the layer will be disabled in the layer control, and will\nnot be displayed on the map, nor content fetched."),(0,r.kt)("p",null,"Defined values of ",(0,r.kt)("inlineCode",{parentName:"p"},"units")," include:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Projection"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"OSMTILE"),(0,r.kt)("td",{parentName:"tr",align:null},"Web Mercator, with 256px x 256px tiles recursively defined inside a square bounds at zoom = 0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"WGS84"),(0,r.kt)("td",{parentName:"tr",align:null},"Pseudo plate carr\xe9e, with 256px x 256px tiles. Zoom = 0 contains two tiles in two columns, with their origin at -180,90. False easting and northing (pcrs) values inside the projection bounds correspond to longitude and latitude, respectively.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CBMTILE"),(0,r.kt)("td",{parentName:"tr",align:null},"Lambert Conformal Conic, with 256px x 256px tiles.  Zoom levels chosen by scale denominator, so tiles do not nest.")))),(0,r.kt)("p",null,"Author-defined values of ",(0,r.kt)("inlineCode",{parentName:"p"},"units")," are possible, using the ",(0,r.kt)("a",{parentName:"p",href:"../../api/custom-projections/"},"Custom projections API")),(0,r.kt)("h3",{id:"label"},(0,r.kt)("inlineCode",{parentName:"h3"},"label")),(0,r.kt)("p",null,"Specifies a label for an extent which is displayed in the layer control. When a ",(0,r.kt)("inlineCode",{parentName:"p"},"label")," is not provided, the extent is hidden by default in the layer control."),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"events"},"Events"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Event name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"extentload"),(0,r.kt)("td",{parentName:"tr",align:null},"Fires when a layer's extent is loaded and parsed. The intent is that this event is analagous to the ",(0,r.kt)("a",{parentName:"td",href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/loadedmetadata_event"},"media element loadedmetadata event"),", but for map layers.")))),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"examples"},"Examples"),(0,r.kt)("h3",{id:"multiple-extent"},"Multiple Extent"),(0,r.kt)("p",null,"The following example shows multiple ",(0,r.kt)("inlineCode",{parentName:"p"},"<map-extent>")," elements in a layer. The different elements can be selected from the three dots menu of the Basemap layer."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<mapml-viewer projection="OSMTILE" zoom="2" lat="53.331" lon="-91.667" controls>\n  \x3c!-- Change Basemap using the three dots menu of the basemap layer --\x3e\n  <layer- label="Basemap" checked="">\n    \x3c!-- This extent will be hidden in the layer control since no label is provided --\x3e\n    <map-extent units="OSMTILE">\n      <map-input name="TileMatrix" type="zoom" value="18" min="0" max="18"></map-input>\n      <map-input name="TileCol" type="location" units="tilematrix" axis="column" min="0" max="262144"></map-input>\n      <map-input name="TileRow" type="location" units="tilematrix" axis="row" min="0" max="262144"></map-input>\n      <map-link rel="tile" tref="https://server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/WMTS/tile/1.0.0/World_Imagery/default/default028mm/{TileMatrix}/{TileRow}/{TileCol}.jpg"></map-link>\n    </map-extent>\n      <map-extent label="Nat Geo" units="OSMTILE">\n      <map-input name="TileMatrix" type="zoom" value="18" min="0" max="18"></map-input>\n      <map-input name="TileCol" type="location" units="tilematrix" axis="column" min="0" max="262144"></map-input>\n      <map-input name="TileRow" type="location" units="tilematrix" axis="row" min="0" max="262144"></map-input>\n      <map-link rel="tile" tref="https://server.arcgisonline.com/arcgis/rest/services/NatGeo_World_Map/MapServer/WMTS/tile/1.0.0/NatGeo_World_Map/default/default028mm/{TileMatrix}/{TileRow}/{TileCol}.jpg"></map-link>\n    </map-extent>\n    <map-extent label="Imagery" units="OSMTILE">\n      <map-input name="TileMatrix" type="zoom" value="18" min="0" max="18"></map-input>\n      <map-input name="TileCol" type="location" units="tilematrix" axis="column" min="0" max="262144"></map-input>\n      <map-input name="TileRow" type="location" units="tilematrix" axis="row" min="0" max="262144"></map-input>\n      <map-link rel="tile" tref="https://server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/WMTS/tile/1.0.0/World_Imagery/default/default028mm/{TileMatrix}/{TileRow}/{TileCol}.jpg"></map-link>\n      <map-link rel="tile" tref="https://services.arcgisonline.com/arcgis/rest/services/Reference/World_Boundaries_and_Places/MapServer/WMTS/tile/1.0.0/Reference_World_Boundaries_and_Places/default/default028mm/{TileMatrix}/{TileRow}/{TileCol}.png"></map-link>\n    </map-extent>\n  </layer->\n</mapml-viewer>\n')),(0,r.kt)("h3",{id:"wms-request"},"WMS Request"),(0,r.kt)("p",null,"The following example shows a Web Map Service Request using ",(0,r.kt)("inlineCode",{parentName:"p"},"<map-link>")," to request map images."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<mapml-viewer projection="OSMTILE" zoom="4" lat="53.331" lon="-91.667" controls>\n  <layer- label="Toporama" checked="">\n    <map-extent xmlns="http://www.w3.org/1999/xhtml" units="OSMTILE">\n      \x3c!-- URL parameters for WMS Request --\x3e\n      <map-input name="z" type="zoom" value="18" min="4" max="18"></map-input>\n      <map-input name="w" type="width"></map-input>\n      <map-input name="h" type="height"></map-input>\n      <map-input name="xmin" type="location" units="pcrs" position="top-left" axis="easting" min="-2.003750834E7" max="2.003750834E7"></map-input>\n      <map-input name="ymin" type="location" units="pcrs" position="bottom-left" axis="northing" min="-2.003750834E7" max="2.003750834E7"></map-input>\n      <map-input name="xmax" type="location" units="pcrs" position="top-right" axis="easting" min="-2.003750834E7" max="2.003750834E7"></map-input>\n      <map-input name="ymax" type="location" units="pcrs" position="top-left" axis="northing" min="-2.003750834E7" max="2.003750834E7"></map-input>\n      \x3c!-- Web Map Service requesting image --\x3e\n      <map-link rel="image" tref="http://wms.ess-ws.nrcan.gc.ca/wms/toporama_en?SERVICE=WMS&amp;REQUEST=GetMap&amp;FORMAT=image/jpeg&amp;TRANSPARENT=FALSE&amp;STYLES=&amp;VERSION=1.3.0&amp;LAYERS=WMS-Toporama&amp;WIDTH={w}&amp;HEIGHT={h}&amp;CRS=EPSG:3857&amp;BBOX={xmin},{ymin},{xmax},{ymax}&amp;m4h=t"></map-link>\n    </map-extent>\n  </layer->\n</mapml-viewer>\n')))}c.isMDXComponent=!0}}]);