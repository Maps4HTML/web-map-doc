"use strict";(self.webpackChunkmapml_viewer_doc=self.webpackChunkmapml_viewer_doc||[]).push([[5767],{1271:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>o});var i=n(4848),s=n(8453);const l={id:"extent",title:"<map-extent>",slug:"/elements/extent/"},a=void 0,r={id:"elements/extent",title:"<map-extent>",description:"The `` element is a hypertext control that is associated to and represents the",source:"@site/docs/elements/extent.md",sourceDirName:"elements",slug:"/elements/extent/",permalink:"/web-map-doc/docs/elements/extent/",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"extent",title:"<map-extent>",slug:"/elements/extent/"},sidebar:"sidebar",previous:{title:"<mapml->",permalink:"/web-map-doc/docs/elements/mapml/"},next:{title:"<map-input>",permalink:"/web-map-doc/docs/elements/input/"}},c={},o=[{value:"Attributes",id:"attributes",level:2},{value:"<code>units</code>",id:"units",level:3},{value:"<code>label</code>",id:"label",level:3},{value:"<code>checked</code>",id:"checked",level:3},{value:"<code>hidden</code>",id:"hidden",level:3},{value:"<code>opacity</code>",id:"opacity",level:3},{value:"Examples",id:"examples",level:2},{value:"Multiple Extent",id:"multiple-extent",level:3},{value:"WMS Request",id:"wms-request",level:3},{value:"Specifications",id:"specifications",level:2},{value:"Requirements",id:"requirements",level:2}];function d(e){const t={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"<map-extent>"})," element is a hypertext control that is associated to and represents the\nrectangle of the map viewport, from the user's perspective.  Map authors use it\nto compose server requests for layer content. Requests are composed using\nURL templates processed by the browser as the map moves and requires new content\nto paint.  The URL templates each contain one or more variable references, with each\nvariable reference denoted by the name of the variable enclosed in braces ",(0,i.jsx)(t.code,{children:"{}"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["Variables are created by the map author using the ",(0,i.jsx)(t.code,{children:"<map-input>"})," element.  There are\nseveral types of ",(0,i.jsx)(t.code,{children:"<map-input>"}),", allowing the map author to reference the corners\nof the extent, its width and height, and its zoom."]}),"\n",(0,i.jsxs)(t.p,{children:["An example of a ",(0,i.jsx)(t.code,{children:"<map-extent>"})," element being used to load image tiles for a single\nURL template."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'<mapml-viewer projection="OSMTILE" lat="10" lon="0" zoom="1">\n  <map-layer label="OpenStreetMap" checked>\n    <map-extent units="OSMTILE" checked hidden>\n      <map-input name="z" type="zoom" value="18" min="0" max="18"></map-input>\n      <map-input name="x" type="location" units="tilematrix" axis="column" min="0" max="262144"></map-input>\n      <map-input name="y" type="location" units="tilematrix" axis="row" min="0" max="262144"></map-input>\n      <map-link rel="tile" tref="https://tile.openstreetmap.org/{z}/{x}/{y}.png"></map-link>\n    </map-extent>\n  </map-layer>\n</mapml-viewer>\n'})}),"\n",(0,i.jsx)("iframe",{src:"../../../demo/extent-demo/",title:"MapML Demo",height:"410",width:"100%",scrolling:"no",frameBorder:"0"}),"\n",(0,i.jsx)(t.h2,{id:"attributes",children:"Attributes"}),"\n",(0,i.jsx)(t.h3,{id:"units",children:(0,i.jsx)(t.code,{children:"units"})}),"\n",(0,i.jsxs)(t.p,{children:["Specifies the projection of the tiles and other content that is expected from the\nserver.  If the projection value is a case-insensitive match of the ",(0,i.jsx)(t.code,{children:"<mapml-viewer>"}),"\n",(0,i.jsx)(t.code,{children:"projection"})," attribute, the extent will be disabled in the layer control, and will\nnot be displayed on the map, nor content fetched."]}),"\n",(0,i.jsxs)(t.p,{children:["Defined values of ",(0,i.jsx)(t.code,{children:"units"})," include:"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Projection"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"OSMTILE"}),(0,i.jsx)(t.td,{children:"Web Mercator, with 256px x 256px tiles recursively defined inside a square bounds at zoom = 0"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"WGS84"}),(0,i.jsx)(t.td,{children:"Pseudo plate carr\xe9e, with 256px x 256px tiles. Zoom = 0 contains two tiles in two columns, with their origin at -180,90. False easting and northing (pcrs) values inside the projection bounds correspond to longitude and latitude, respectively."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"CBMTILE"}),(0,i.jsx)(t.td,{children:"Lambert Conformal Conic, with 256px x 256px tiles.  Zoom levels chosen by scale denominator, so tiles do not nest."})]})]})]}),"\n",(0,i.jsxs)(t.p,{children:["Author-defined values of ",(0,i.jsx)(t.code,{children:"units"})," are possible, using the ",(0,i.jsx)(t.a,{href:"../../api/mapml-viewer-api/#definecustomprojectionoptions",children:"Custom projections API"})]}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"units"})," attribute is required and can't be changed."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"label",children:(0,i.jsx)(t.code,{children:"label"})}),"\n",(0,i.jsxs)(t.p,{children:["Specifies a label for an extent which is displayed in the layer control. When a ",(0,i.jsx)(t.code,{children:"label"})," value is not provided, the ",(0,i.jsx)(t.code,{children:"label"})," value defaults to 'Sub-Layer' in the layer control."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"checked",children:(0,i.jsx)(t.code,{children:"checked"})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"checked"})," attribute and property is boolean. When present, the checked property value is taken to be 'true'; when not present, the property value is 'false'. The map-extent content will be fetched and rendered according to the ",(0,i.jsx)(t.code,{children:"checked"})," state. Beware that it is the ",(0,i.jsx)(t.em,{children:"presence"})," of the attribute that makes it true, not the value of the attribute. For example, the attribute ",(0,i.jsx)(t.code,{children:'checked="false"'})," actually turns out to be checked, ",(0,i.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes#boolean_attributes",children:"as described by MDN Web docs"}),"."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"hidden",children:(0,i.jsx)(t.code,{children:"hidden"})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"hidden"})," attribute and property is boolean. When present, the extent is hidden (not present) in the layer control.  Regardless of ",(0,i.jsx)(t.code,{children:"hidden"})," state, the layer is rendered or not depending on the ",(0,i.jsx)(t.code,{children:"checked"})," attribute state."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"opacity",children:(0,i.jsx)(t.code,{children:"opacity"})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"opacity"})," attribute is used to set the initial opacity of the ",(0,i.jsx)(t.code,{children:"<map-extent>"})," element.\nValid ",(0,i.jsx)(t.code,{children:"opacity"}),' values range from from "0.0" to "1.0" with strictly one demical place and are reflected in the extent settings\nopacity input slider control. When the ',(0,i.jsx)(t.code,{children:"opacity"}),' attribute is not present, the opacity is set to "1.0" by default.']}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(t.h3,{id:"multiple-extent",children:"Multiple Extent"}),"\n",(0,i.jsxs)(t.p,{children:["The following example shows multiple ",(0,i.jsx)(t.code,{children:"<map-extent>"})," elements in a layer. The different elements can be selected from the three dots menu of the Basemap layer."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'<mapml-viewer projection="OSMTILE" zoom="2" lat="53.331" lon="-91.667" controls>\n  \x3c!-- Change Basemap using the three dots menu of the basemap layer --\x3e\n  <map-layer label="Basemap" checked="">\n    \x3c!-- This extent will be hidden in the layer control since no label is provided --\x3e\n    <map-extent units="OSMTILE" checked>\n      <map-input name="TileMatrix" type="zoom" value="18" min="0" max="18"></map-input>\n      <map-input name="TileCol" type="location" units="tilematrix" axis="column" min="0" max="262144"></map-input>\n      <map-input name="TileRow" type="location" units="tilematrix" axis="row" min="0" max="262144"></map-input>\n      <map-link rel="tile" tref="https://server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/WMTS/tile/1.0.0/World_Imagery/default/default028mm/{TileMatrix}/{TileRow}/{TileCol}.jpg"></map-link>\n    </map-extent>\n      <map-extent label="Nat Geo" units="OSMTILE" checked>\n      <map-input name="TileMatrix" type="zoom" value="18" min="0" max="18"></map-input>\n      <map-input name="TileCol" type="location" units="tilematrix" axis="column" min="0" max="262144"></map-input>\n      <map-input name="TileRow" type="location" units="tilematrix" axis="row" min="0" max="262144"></map-input>\n      <map-link rel="tile" tref="https://server.arcgisonline.com/arcgis/rest/services/NatGeo_World_Map/MapServer/WMTS/tile/1.0.0/NatGeo_World_Map/default/default028mm/{TileMatrix}/{TileRow}/{TileCol}.jpg"></map-link>\n    </map-extent>\n    <map-extent label="Imagery" units="OSMTILE" checked>\n      <map-input name="TileMatrix" type="zoom" value="18" min="0" max="18"></map-input>\n      <map-input name="TileCol" type="location" units="tilematrix" axis="column" min="0" max="262144"></map-input>\n      <map-input name="TileRow" type="location" units="tilematrix" axis="row" min="0" max="262144"></map-input>\n      <map-link rel="tile" tref="https://server.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/WMTS/tile/1.0.0/World_Imagery/default/default028mm/{TileMatrix}/{TileRow}/{TileCol}.jpg"></map-link>\n      <map-link rel="tile" tref="https://services.arcgisonline.com/arcgis/rest/services/Reference/World_Boundaries_and_Places/MapServer/WMTS/tile/1.0.0/Reference_World_Boundaries_and_Places/default/default028mm/{TileMatrix}/{TileRow}/{TileCol}.png"></map-link>\n    </map-extent>\n  </map-layer>\n</mapml-viewer>\n'})}),"\n",(0,i.jsx)(t.h3,{id:"wms-request",children:"WMS Request"}),"\n",(0,i.jsxs)(t.p,{children:["The following example shows a Web Map Service Request using ",(0,i.jsx)(t.code,{children:"<map-link>"})," to request map images."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'<mapml-viewer projection="OSMTILE" zoom="4" lat="53.331" lon="-91.667" controls>\n  <map-layer label="Toporama" checked="">\n    <map-extent xmlns="http://www.w3.org/1999/xhtml" units="OSMTILE" checked>\n      \x3c!-- URL parameters for WMS Request --\x3e\n      <map-input name="z" type="zoom" value="18" min="4" max="18"></map-input>\n      <map-input name="w" type="width"></map-input>\n      <map-input name="h" type="height"></map-input>\n      <map-input name="xmin" type="location" units="pcrs" position="top-left" axis="easting" min="-2.003750834E7" max="2.003750834E7"></map-input>\n      <map-input name="ymin" type="location" units="pcrs" position="bottom-left" axis="northing" min="-2.003750834E7" max="2.003750834E7"></map-input>\n      <map-input name="xmax" type="location" units="pcrs" position="top-right" axis="easting" min="-2.003750834E7" max="2.003750834E7"></map-input>\n      <map-input name="ymax" type="location" units="pcrs" position="top-left" axis="northing" min="-2.003750834E7" max="2.003750834E7"></map-input>\n      \x3c!-- Web Map Service requesting image --\x3e\n      <map-link rel="image" tref="https://wms.ess-ws.nrcan.gc.ca/wms/toporama_en?SERVICE=WMS&amp;REQUEST=GetMap&amp;FORMAT=image/jpeg&amp;TRANSPARENT=FALSE&amp;STYLES=&amp;VERSION=1.3.0&amp;LAYERS=WMS-Toporama&amp;WIDTH={w}&amp;HEIGHT={h}&amp;CRS=EPSG:3857&amp;BBOX={xmin},{ymin},{xmax},{ymax}&amp;m4h=t"></map-link>\n    </map-extent>\n  </map-layer>\n</mapml-viewer>\n'})}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h2,{id:"specifications",children:"Specifications"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsx)(t.tr,{children:(0,i.jsx)(t.th,{children:"Specification"})})}),(0,i.jsx)(t.tbody,{children:(0,i.jsx)(t.tr,{children:(0,i.jsx)(t.td,{children:(0,i.jsx)(t.a,{href:"https://maps4html.org/MapML-Specification/spec/#the-extent-element-0",children:"MapML extent element"})})})})]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.a,{href:"https://github.com/Maps4HTML/HTML-Map-Element-UseCases-Requirements/issues/new?title=-SUMMARIZE+THE+PROBLEM-&body=-DESCRIBE+THE+PROBLEM-",children:"Report problems with these requirements on GitHub"})}),"\n",(0,i.jsx)("p",{children:(0,i.jsxs)("b",{children:[(0,i.jsx)("span",{class:"requirement",children:"requirement"}),"\n",(0,i.jsx)("span",{class:"enhancement",children:"enhancement"}),"\n",(0,i.jsx)("span",{class:"impractical",children:"impractical"}),"\n",(0,i.jsx)("span",{class:"undecided",children:"undecided"}),"\n",(0,i.jsx)("span",{class:"discussion",children:"under discussion"})]})}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"}}),(0,i.jsx)(t.th,{style:{textAlign:"center"},children:"Spec"}),(0,i.jsx)(t.th,{style:{textAlign:"center"},children:"Viewer"}),(0,i.jsx)(t.th,{style:{textAlign:"center"},children:"API"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.a,{href:"https://maps4html.org/HTML-Map-Element-UseCases-Requirements/#map-viewers-capabilities-rendering",children:(0,i.jsx)(t.strong,{children:"Rendering base layers (5.1)"})})}),(0,i.jsx)(t.td,{style:{textAlign:"center"}}),(0,i.jsx)(t.td,{style:{textAlign:"center"}}),(0,i.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)("div",{class:"requirement",children:"Display a map using tile data from an author-specified web map service\xa0(5.1.4)"})}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"full"}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"full"}),(0,i.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.a,{href:"https://maps4html.org/HTML-Map-Element-UseCases-Requirements/#map-viewers-capabilities-user-navigation",children:(0,i.jsx)(t.strong,{children:"User navigation (pan and zoom) (5.4)"})})}),(0,i.jsx)(t.td,{style:{textAlign:"center"}}),(0,i.jsx)(t.td,{style:{textAlign:"center"}}),(0,i.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)("div",{class:"undecided",children:"Load additional map tiles when they pan into view\xa0(5.4.3)"})}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"full"}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"full"}),(0,i.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)("div",{class:"discussion",children:"Dynamically load different resolution map tile on zoom\xa0(5.4.6)"})}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"full"}),(0,i.jsx)(t.td,{style:{textAlign:"center"},children:"full"}),(0,i.jsx)(t.td,{style:{textAlign:"center"}})]})]})]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsxs)(t.a,{href:"https://github.com/Maps4HTML/web-map-doc/edit/main/docs/elements/extent.md",children:["Edit this page on ",(0,i.jsx)(t.strong,{children:"Github"})]})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsxs)(t.a,{href:"https://gitter.im/Maps4HTML/chat",children:["Chat with us on ",(0,i.jsx)(t.strong,{children:"Gitter"})]})}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var i=n(6540);const s={},l=i.createContext(s);function a(e){const t=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(l.Provider,{value:t},e.children)}}}]);