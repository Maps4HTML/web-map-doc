"use strict";(self.webpackChunkmapml_viewer_doc=self.webpackChunkmapml_viewer_doc||[]).push([[4490],{1498:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var r=t(4848),o=t(8453);const i={id:"map-feature-api",title:"HTMLFeatureElement",slug:"/api/map-feature-api"},s="HTMLFeatureElement",l={id:"api/map-feature-api",title:"HTMLFeatureElement",description:"Properties",source:"@site/docs/api/map-feature-api.md",sourceDirName:"api",slug:"/api/map-feature-api",permalink:"/web-map-doc/docs/api/map-feature-api",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"map-feature-api",title:"HTMLFeatureElement",slug:"/api/map-feature-api"},sidebar:"sidebar",previous:{title:"HTMLLayerElement",permalink:"/web-map-doc/docs/api/layer-api"},next:{title:"HTMLExtentElement",permalink:"/web-map-doc/docs/api/map-extent-api"}},a={},c=[{value:"Properties",id:"properties",level:2},{value:"zoom",id:"zoom",level:3},{value:"min",id:"min",level:3},{value:"max",id:"max",level:3},{value:"extent",id:"extent",level:3},{value:"Methods",id:"methods",level:2},{value:"zoomTo()",id:"zoomto",level:3},{value:"Syntax",id:"syntax",level:4},{value:"Parameters",id:"parameters",level:4},{value:"Return value",id:"return-value",level:4},{value:"click()",id:"click",level:3},{value:"Syntax:",id:"syntax-1",level:4},{value:"Parameters:",id:"parameters-1",level:4},{value:"Return value:",id:"return-value-1",level:4},{value:"focus(options)",id:"focusoptions",level:3},{value:"Syntax:",id:"syntax-2",level:4},{value:"Parameters:",id:"parameters-2",level:4},{value:"zoomTo",id:"zoomto-1",level:5},{value:"focusVisible",id:"focusvisible",level:5},{value:"Return value:",id:"return-value-2",level:4},{value:"blur()",id:"blur",level:3},{value:"Syntax",id:"syntax-3",level:4},{value:"Parameters",id:"parameters-3",level:4},{value:"Return value",id:"return-value-3",level:4},{value:"mapml2geojson(options)",id:"mapml2geojsonoptions",level:3},{value:"Syntax",id:"syntax-4",level:4},{value:"Parameters",id:"parameters-4",level:4},{value:"Options",id:"options",level:5},{value:"Notes",id:"notes",level:6},{value:"Return value",id:"return-value-4",level:4},{value:"Events",id:"events",level:2},{value:"Examples",id:"examples",level:2},{value:"mapml2geojson",id:"mapml2geojson",level:3},{value:"Default options",id:"default-options",level:4},{value:"Specifications",id:"specifications",level:2},{value:"Requirements",id:"requirements",level:2}];function d(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"htmlfeatureelement",children:"HTMLFeatureElement"})}),"\n",(0,r.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(n.h3,{id:"zoom",children:"zoom"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"HTMLFeatureElement.zoom"})," gets or sets the 'native' zoom of the feature; ",(0,r.jsx)(n.code,{children:"zoom"}),"\n",(0,r.jsx)(n.a,{href:"https://html.spec.whatwg.org/#example-reflect-incantation",children:"reflects"})," the\ncontent attribute of the same name. Map features' geometry and other properties\nare scale-dependent.  It's expected that features served by HTML (MapML) services\nwill express the native or natural scale of the feature through its ",(0,r.jsx)(n.code,{children:"zoom"}),", ",(0,r.jsx)(n.code,{children:"min"}),"\nand ",(0,r.jsx)(n.code,{children:"max"})," (zoom) content and IDL attributes."]}),"\n",(0,r.jsx)(n.p,{children:"To set the zoom:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let feature = document.querySelector('map-feature');\nfeature.zoom = 5; // set's the 'native' zoom of the feature\n"})}),"\n",(0,r.jsx)(n.p,{children:"To get the zoom:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let feature = document.querySelector('map-feature');\nlet zoom = feature.zoom; \n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"min",children:"min"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"min"})," (zoom) attribute gets or sets the native minimum zoom of the feature;\n",(0,r.jsx)(n.code,{children:"min"})," ",(0,r.jsx)(n.a,{href:"https://html.spec.whatwg.org/#example-reflect-incantation",children:"reflects"})," the\ncontent attribute of the same name. Map features' geometry and other properties\nare scale-dependent. The ",(0,r.jsx)(n.code,{children:"min"})," value is a rendering zoom value cut-off; at map\nzoom values less than ",(0,r.jsx)(n.code,{children:"min"}),", the feature will not be rendered."]}),"\n",(0,r.jsxs)(n.p,{children:["If ",(0,r.jsx)(n.code,{children:"min"})," is not provided, a fallback value will be calculated; the fallback value\nwill be the min zoom value of the layer, or if that is not specified, of the\nmap viewer ",(0,r.jsx)(n.code,{children:"projection"}),"'s minimum value i.e. 0."]}),"\n",(0,r.jsx)(n.p,{children:"To set the min:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let feature = document.querySelector('map-feature');\nfeature.min = 5; // feature will not be rendered on zoom levels 0-4\n"})}),"\n",(0,r.jsx)(n.p,{children:"To get the min:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let feature = document.querySelector('map-feature');\nlet min = feature.min;\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"max",children:"max"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"max"})," (zoom) attribute gets or sets the native maximum zoom of the feature;\n",(0,r.jsx)(n.code,{children:"max"})," ",(0,r.jsx)(n.a,{href:"https://html.spec.whatwg.org/#example-reflect-incantation",children:"reflects"})," the\ncontent attribute of the same name. Map features' geometry and other properties\nare scale-dependent. The ",(0,r.jsx)(n.code,{children:"max"})," value is a rendering zoom value cut-off; at map\nzoom values greater than ",(0,r.jsx)(n.code,{children:"max"}),", the feature will not be rendered."]}),"\n",(0,r.jsxs)(n.p,{children:["If ",(0,r.jsx)(n.code,{children:"max"})," is not provided, a fallback value will be calculated; the fallback value\nwill be the max zoom value of the layer, or if that is not specified, of the\nmap viewer ",(0,r.jsx)(n.code,{children:"projection"}),"'s maximum value e.g. 25 (depending on the projection)."]}),"\n",(0,r.jsx)(n.p,{children:"To set the max:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let feature = document.querySelector('map-feature');\nfeature.max = 10; // feature will not be rendered past zoom level 10\n"})}),"\n",(0,r.jsx)(n.p,{children:"To get the max:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let feature = document.querySelector('map-feature');\nlet max = feature.max;\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"extent",children:"extent"}),"\n",(0,r.jsx)(n.p,{children:"Read-only.  Returns the top left and bottom right coordinates of the\nfeature's minimum bounding rectangle as an object value."}),"\n",(0,r.jsxs)(n.p,{children:["For point features (which have a zero-area extent), an ",(0,r.jsx)(n.code,{children:"extent"})," is calculated\nto fit the corners of a single tile centred on that location,\nat an integral zoom level equal to the feature's ",(0,r.jsx)(n.a,{href:"#zoom",children:"zoom"})," property value, if set, or at the\nfallback (calculated) zoom value if no ",(0,r.jsx)(n.a,{href:"#zoom",children:"zoom"})," property is set."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"> let f = document.querySelector('map-feature')\n> console.log(f.extent)\n> {topLeft: {\u2026}, bottomRight: {\u2026}, projection: 'CBMTILE'}\n"})}),"\n",(0,r.jsx)(n.p,{children:"The extent object is structured as follows:"}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Click to view the extent object"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\n    "projection": "CBMTILE",\n    "topLeft": {\n        "tcrs": [\n            {\n                "horizontal": 942.662039991251,\n                "vertical": 1029.0945982508472\n            },\n/* an object with "horizontal" and "vertical" properties for each zoom level in the array */\n            {\n                "horizontal": 546743983.1949257,\n                "vertical": 596874866.9854914\n            }\n        ],\n        "tilematrix": [\n            {\n                "horizontal": 3.6822735937158244,\n                "vertical": 4.019900774417372\n            },\n/* an object with "horizontal" and "vertical" properties for each zoom level in the array */\n            {\n                "horizontal": 2135718.6843551784,\n                "vertical": 2331542.4491620758\n            }\n        ],\n/* gcrs stands for "geographic coordinate reference system" */\n        "gcrs": {\n            "horizontal": -75.73195696514524,\n            "vertical": 45.40761073808424\n        },\n/* pcrs stands for "projected coordinate reference system" */\n        "pcrs": {\n            "horizontal": 1509108.7182317898,\n            "vertical": -170864.4342066869\n        }\n    },\n    "bottomRight": {\n        "tcrs": [\n            {\n                "horizontal": 942.7503158533199,\n                "vertical": 1029.1828741129164\n            },\n            {\n                "horizontal": 546795183.1949255,\n                "vertical": 596926066.9854914\n            }\n        ],\n        "tilematrix": [\n            {\n                "horizontal": 3.6826184213020308,\n                "vertical": 4.0202456020035795\n            },\n            {\n                "horizontal": 2135918.684355178,\n                "vertical": 2331742.4491620758\n            }\n        ],\n        "gcrs": {\n            "horizontal": -75.67858731979081,\n            "vertical": 45.387937810298354\n        },\n        "pcrs": {\n            "horizontal": 1512495.3916717991,\n            "vertical": -174251.10764670372\n        }\n    }\n}\n'})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h3,{id:"zoomto",children:"zoomTo()"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"HTMLFeatureElement.zoomTo()"})," Move the viewport to be centred on the feature's ",(0,r.jsx)(n.a,{href:"#extent",children:(0,r.jsx)(n.code,{children:"extent"})}),".\nThe zoom of the map displayed depends on the native ",(0,r.jsx)(n.a,{href:"#zoom",children:"zoom"})," and ",(0,r.jsx)(n.code,{children:"max"})," properties of the feature.\nIf the feature has no specified ",(0,r.jsx)(n.a,{href:"#zoom",children:"zoom"})," property, the feature will be centred on the\nviewport at the ",(0,r.jsx)(n.code,{children:"max"})," zoom value, whether that value is present on the feature, or\nis derived from a fallback value based on the parent layer or map.\nIf a ",(0,r.jsx)(n.a,{href:"#zoom",children:"zoom"})," property is available, the viewport will be centred on the\ncentre of the feature's ",(0,r.jsx)(n.a,{href:"#extent",children:(0,r.jsx)(n.code,{children:"extent"})})," at that zoom value, whether or not\nthe ",(0,r.jsx)(n.a,{href:"#extent",children:(0,r.jsx)(n.code,{children:"extent"})})," fits completely within the viewport."]}),"\n",(0,r.jsx)(n.h4,{id:"syntax",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let f = document.querySelector('map-feature');\nf.zoomTo(); // re-center the map on the feature at its native zoom\n"})}),"\n",(0,r.jsx)(n.h4,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(n.p,{children:"None."}),"\n",(0,r.jsx)(n.h4,{id:"return-value",children:"Return value"}),"\n",(0,r.jsxs)(n.p,{children:["None (",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",children:"undefined"}),")."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"click",children:"click()"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"click"})," method simulates a mouse click on the feature."]}),"\n",(0,r.jsx)(n.h4,{id:"syntax-1",children:"Syntax:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let f = document.querySelector('map-feature');\nf.click();\n"})}),"\n",(0,r.jsx)(n.h4,{id:"parameters-1",children:"Parameters:"}),"\n",(0,r.jsx)(n.p,{children:"None."}),"\n",(0,r.jsx)(n.h4,{id:"return-value-1",children:"Return value:"}),"\n",(0,r.jsxs)(n.p,{children:["None (",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",children:"undefined"}),")."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"focusoptions",children:"focus(options)"}),"\n",(0,r.jsx)(n.h4,{id:"syntax-2",children:"Syntax:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"f.focus();\nf.focus(options);\n"})}),"\n",(0,r.jsx)(n.h4,{id:"parameters-2",children:"Parameters:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"options"})," ",(0,r.jsx)("span",{className:"badge",children:"Optional"})]}),"\n",(0,r.jsx)(n.p,{children:"An optional object for controlling aspects of the focusing process."}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"Options are not implemented yet."})}),"\n",(0,r.jsx)(n.p,{children:"This object may contain the following properties:"}),"\n",(0,r.jsx)(n.h5,{id:"zoomto-1",children:"zoomTo"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"zoomTo"})," option (",(0,r.jsx)(n.code,{children:"false"})," by default) will move the viewport to be centred on\nthe feature's ",(0,r.jsx)(n.a,{href:"#extent",children:(0,r.jsx)(n.code,{children:"extent"})}),", similar to the ",(0,r.jsx)(n.a,{href:"#zoomto",children:(0,r.jsx)(n.code,{children:"zoomTo()"})})," method."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"let f = document.querySelector('map-feature');\nf.focus({ zoomTo: true });\n"})}),"\n",(0,r.jsx)(n.h5,{id:"focusvisible",children:"focusVisible"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"focusVisible"})," option (",(0,r.jsx)(n.code,{children:"false"})," by default) will enhance the feature with a\nfocus ring, similar to as though the feature had been focused with the keyboard."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"let f = document.querySelector('map-feature');\nf.focus({ zoom: false, focusVisible: true });\n"})}),"\n",(0,r.jsx)(n.h4,{id:"return-value-2",children:"Return value:"}),"\n",(0,r.jsxs)(n.p,{children:["None (",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",children:"undefined"}),")."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"blur",children:"blur()"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"blur()"})," method removes focus from the feature."]}),"\n",(0,r.jsx)(n.h4,{id:"syntax-3",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"let f = document.querySelector('map-feature');\nf.blur();\n"})}),"\n",(0,r.jsx)(n.h4,{id:"parameters-3",children:"Parameters"}),"\n",(0,r.jsx)(n.p,{children:"None."}),"\n",(0,r.jsx)(n.h4,{id:"return-value-3",children:"Return value"}),"\n",(0,r.jsxs)(n.p,{children:["None (",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",children:"undefined"}),")."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"mapml2geojsonoptions",children:"mapml2geojson(options)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"HTMLFeatureElement.mapml2geojson(options)"})," returns the feature in GeoJSON format."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Function"}),(0,r.jsx)(n.th,{children:"Returns"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)("code",{children:"mapml2geojson(<Object> options)"})}),(0,r.jsx)(n.td,{children:"A JavaScript (GeoJSON) feature object"}),(0,r.jsxs)(n.td,{children:["This function transforms the ",(0,r.jsx)(n.code,{children:"<feature>"})," element to a GeoJSON Feature object. You supply ",(0,r.jsx)(n.a,{href:"#options",children:"options"})," to control the transformation."]})]})})]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"mapml2geojson"})," must be called inside a windows.onload event to work properly. i.e."]})}),"\n",(0,r.jsx)(n.h4,{id:"syntax-4",children:"Syntax"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"window.onload = (event) => {\n  let layer = document.querySelector('map-layer');\n  layer.mapml2geojson();\n};\n"})}),"\n",(0,r.jsx)(n.h4,{id:"parameters-4",children:"Parameters"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"<Object>\xa0options"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)("span",{className:"badge",children:"Optional"})," You supply parameters via an options object with ",(0,r.jsx)(n.a,{href:"#options",children:"predefined option names"}),"."]})]})})]}),"\n",(0,r.jsx)(n.h5,{id:"options",children:"Options"}),"\n",(0,r.jsx)(n.p,{children:"<Object> A set of key/value pairs that customize the output GeoJSON object. All are optional and detailed below."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"propertyFunction"})}),(0,r.jsx)(n.td,{children:"<Function>"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.em,{children:"n/a"})}),(0,r.jsxs)(n.td,{children:["A function you supply that maps the features' ",(0,r.jsx)(n.code,{children:"<map-properties>"})," element to a ",(0,r.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc7946#section-3.2",children:'GeoJSON "properties" member'}),", since only you know the markup design in your ",(0,r.jsx)(n.code,{children:"<map-properties>"})," value. If you don't supply this option, a default function will attempt to reverse a ",(0,r.jsx)(n.code,{children:"<table>"})," child of the ",(0,r.jsx)(n.code,{children:"<map-properties>"})," element, as if that table was generated by the ",(0,r.jsx)(n.a,{href:"mapml-viewer-api#options",children:"default properties option function from geojson2mapml"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"transform"})}),(0,r.jsx)(n.td,{children:"<Boolean>"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsxs)(n.td,{children:["Transform ",(0,r.jsx)(n.code,{children:"<map-coordinates>"})," values to ",(0,r.jsx)(n.code,{children:"gcrs"})," (longitude,latitude) values, if they are not already so. GeoJSON ",(0,r.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc7946.html#section-4",children:"recommends"})," using WGS 84 longitude,latitude coordinates, so this is the default behaviour."]})]})]})]}),"\n",(0,r.jsx)(n.h6,{id:"notes",children:"Notes"}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"mapml2geojson"}),", by default, will transform feature coordinates to ",(0,r.jsx)(n.code,{children:"gcrs"})," before serialization, if\nnecessary. Note that all geographic CRS are ",(0,r.jsx)("u",{children:(0,r.jsx)(n.strong,{children:"not"})})," equivalent, and the interpretation\nof such coordinates is not guaranteed to conform to WGS 84 / GPS coordinates,\nand therefore may not conform to ",(0,r.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc7946#section-4",children:"the GeoJSON recommendation"}),",\nwhich requires longitude,latitude coordinates to be\nencoded as WGS 84.  The projection engine used to implement this conversion\nis not capable of transforming coordinates from one ",(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Earth_ellipsoid",children:"ellipsoid"})," to another, and\nso the resulting JSON SHOULD (somehow, tbd) be tagged with the datum in use by the projection of the layer."]})}),"\n",(0,r.jsx)(n.h4,{id:"return-value-4",children:"Return value"}),"\n",(0,r.jsx)(n.p,{children:"A GeoJSON object representing the feature"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"events",children:"Events"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Event name"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"click"}),(0,r.jsxs)(n.td,{children:["The click event occurs when the user clicks or touches the feature with the keyboard or pointer, or when the ",(0,r.jsx)(n.a,{href:"#click",children:"click()"})," method is called."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"focus"}),(0,r.jsxs)(n.td,{children:["The focus event occurs when the feature gains focus with a keyboard or pointer, or when the ",(0,r.jsx)(n.a,{href:"#focusoptions",children:"focus()"})," method is called."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"blur"}),(0,r.jsxs)(n.td,{children:["The blur event occurs when the feature loses focus with a keyboard or pointer, or when the ",(0,r.jsx)(n.a,{href:"#blur",children:"blur()"})," method is called."]})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.h3,{id:"mapml2geojson",children:"mapml2geojson"}),"\n",(0,r.jsx)(n.h4,{id:"default-options",children:"Default options"}),"\n",(0,r.jsx)(n.p,{children:"An example showcasing default GeoJSON output when no options are provided."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<map-layer label="Point Geometry" checked="">\n   <map-meta name="extent" content="top-left-longitude=-75.916809, top-left-latitude=45.886964, bottom-right-longitude=-75.516809,bottom-right-latitude=45.26964"></map-meta>\n   <map-meta name="projection" content="OSMTILE"></map-meta>\n   <map-meta name="cs" content="gcrs"></map-meta>\n   <map-feature>\n      <map-featurecaption>Point Geometry</map-featurecaption>\n      <map-geometry>\n         <map-point>\n            <map-coordinates>-75.6916809 45.4186964</map-coordinates>\n         </map-point>\n      </map-geometry>\n      <map-properties>\n         <table>\n            <thead>\n               <tr>\n                  <th role="columnheader" scope="col">Property name</th>\n                  <th role="columnheader" scope="col">Property value</th>\n               </tr>\n            </thead>\n            <tbody>\n               <tr>\n                  <th scope="row">prop0</th>\n                  <td itemprop="prop0">This is a Point</td>\n               </tr>\n            </tbody>\n         </table>\n      </map-properties>\n   </map-feature>\n</map-layer>\n<script>\nwindow.onload = (event) => {\n   let layer = document.querySelector(\'map-layer\');\n   let output = layer.mapml2geojson();\n};\n<\/script>\n'})}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Click to view the output GeoJSON"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\n "title": "Point Geometry",\n "bbox": [-75.916809, 45.886964, -75.516809, 45.26964],\n "type": "FeatureCollection",\n "features": [{\n     "type": "Feature",\n     "geometry": {\n         "type": "Point",\n         "coordinates": [-75.6916809, 45.4186964]\n     },\n     "properties": {\n         "prop0": "This is a Point"\n     }\n }]\n}\n'})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"specifications",children:"Specifications"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsx)(n.tr,{children:(0,r.jsx)(n.th,{children:"Specification"})})}),(0,r.jsx)(n.tbody,{children:(0,r.jsx)(n.tr,{children:(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://maps4html.org/MapML-Specification/spec/#the-feature-element",children:"HTMLFeatureElement"})})})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/Maps4HTML/HTML-Map-Element-UseCases-Requirements/issues/new?title=-SUMMARIZE+THE+PROBLEM-&body=-DESCRIBE+THE+PROBLEM-",children:"Report problems with these requirements on GitHub"})}),"\n",(0,r.jsx)("p",{children:(0,r.jsxs)("b",{children:[(0,r.jsx)("span",{class:"requirement",children:"requirement"}),"\n",(0,r.jsx)("span",{class:"enhancement",children:"enhancement"}),"\n",(0,r.jsx)("span",{class:"impractical",children:"impractical"}),"\n",(0,r.jsx)("span",{class:"undecided",children:"undecided"}),"\n",(0,r.jsx)("span",{class:"discussion",children:"under discussion"})]})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"}}),(0,r.jsx)(n.th,{style:{textAlign:"center"},children:"Spec"}),(0,r.jsx)(n.th,{style:{textAlign:"center"},children:"Viewer"}),(0,r.jsx)(n.th,{style:{textAlign:"center"},children:"API"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.a,{href:"#properties",children:(0,r.jsx)(n.strong,{children:"Properties"})})}),(0,r.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,r.jsx)(n.a,{href:"https://github.com/Maps4HTML/MapML-Specification/issues/247",children:"partial"})," *"]}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"full"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"full"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.a,{href:"#methods",children:(0,r.jsx)(n.strong,{children:"Methods"})})}),(0,r.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,r.jsx)(n.a,{href:"https://github.com/Maps4HTML/MapML-Specification/issues/248",children:"none"})," *"]}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"partial  *"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"partial *"})]})]})]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Exceptions *"}),(0,r.jsxs)("ol",{children:[(0,r.jsx)("li",{children:"The map-feature min, max and extent IDL and content attributes (properties) are not yet specified"}),(0,r.jsx)("li",{children:"The map-feature operations (methods) are not yet specified"}),(0,r.jsx)("li",{children:"The map-feature custom element implements the methods but the options parameter of focus(options) is not implemented yet"}),(0,r.jsx)("li",{children:"This API is still under discussion"})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.a,{href:"https://github.com/Maps4HTML/web-map-doc/edit/main/docs/api/map-feature-api.md",children:["Edit this page on ",(0,r.jsx)(n.strong,{children:"Github"})]})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.a,{href:"https://gitter.im/Maps4HTML/chat",children:["Chat with us on ",(0,r.jsx)(n.strong,{children:"Gitter"})]})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var r=t(6540);const o={},i=r.createContext(o);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);