import{contains,elt,removeChildrenAndAdd}from"../util/dom.js";import{e_target}from"../util/event.js";export function widgetHeight(e){if(null!=e.height)return e.height;let t=e.doc.cm;if(!t)return 0;if(!contains(document.body,e.node)){let r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),removeChildrenAndAdd(t.display.measure,elt("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}export function eventInWidget(e,t){for(let r=e_target(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}