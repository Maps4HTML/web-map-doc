import{ie,ios}from"./browser.js";export function classTest(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}export let rmClass=function(e,t){let n=e.className,o=classTest(t).exec(n);if(o){let t=n.slice(o.index+o[0].length);e.className=n.slice(0,o.index)+(t?o[1]+t:"")}};export function removeChildren(e){for(let t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}export function removeChildrenAndAdd(e,t){return removeChildren(e).appendChild(t)}export function elt(e,t,n,o){let r=document.createElement(e);if(n&&(r.className=n),o&&(r.style.cssText=o),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(let l=0;l<t.length;++l)r.appendChild(t[l]);return r}export function eltP(e,t,n,o){let r=elt(e,t,n,o);return r.setAttribute("role","presentation"),r}export let range;range=document.createRange?function(e,t,n,o){let r=document.createRange();return r.setEnd(o||e,n),r.setStart(e,t),r}:function(e,t,n){let o=document.body.createTextRange();try{o.moveToElementText(e.parentNode)}catch(r){return o}return o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",t),o};export function contains(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}export function activeElt(){let e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}export function addClass(e,t){let n=e.className;classTest(t).test(n)||(e.className+=(n?" ":"")+t)}export function joinClasses(e,t){let n=e.split(" ");for(let o=0;o<n.length;o++)n[o]&&!classTest(n[o]).test(t)&&(t+=" "+n[o]);return t}export let selectInput=function(e){e.select()};ios?selectInput=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ie&&(selectInput=function(e){try{e.select()}catch(t){}});