namespace="annotatescrollbar_",function(){function o(o,n,e,r,t){return testCM(o,(function(o){for(var e=o.annotateScrollbar({listenForChanges:!1,className:"CodeMirror-search-match"}),a=[],f=o.getSearchCursor(r,CodeMirror.Pos(0,0));f.findNext();){var l={from:f.from(),to:f.to()};a.push(l)}n&&n(o),o.display.barWidth=5,e.update(a);var i=o.getWrapperElement().getElementsByClassName(e.options.className);eq(i.length,t,"Expected "+t+" annotations on the scrollbar.")}),{value:e,mode:"javascript",foldOptions:{rangeFinder:CodeMirror.fold.brace}})}function n(o){o.foldCode(o.getCursor())}var e='function foo() {\n\n  return "foo";\n\n}\n\nfoo();\n',r='function foo() {\n  return "foo";\n}\nfoo();\n';o("simple",null,e,"foo",3),o("combineConsecutiveLine",null,r,"foo",2),o("combineSingleLine",null,'function foo() { return "foo"; }foo();\n',"foo",1),o("simpleFold",n,e,"foo",2),o("foldedMatch",n,r,"foo",1),o("hiddenMatch",n,e,"return",1)}();