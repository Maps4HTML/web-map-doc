!function(){"use strict";function n(n,o,e){for(var r=n.getSearchCursor(o,null,e),i=3;i<arguments.length;i+=4){var a=r.findNext();is(a,"not enough results (forward)"),eqCharPos(Pos(arguments[i],arguments[i+1]),r.from(),"from, forward, "+(i-3)/4),eqCharPos(Pos(arguments[i+2],arguments[i+3]),r.to(),"to, forward, "+(i-3)/4)}is(!r.findNext(),"too many matches (forward)");for(i=arguments.length-4;i>=3;i-=4){a=r.findPrevious();is(a,"not enough results (backwards)"),eqCharPos(Pos(arguments[i],arguments[i+1]),r.from(),"from, backwards, "+(i-3)/4),eqCharPos(Pos(arguments[i+2],arguments[i+3]),r.to(),"to, backwards, "+(i-3)/4)}is(!r.findPrevious(),"too many matches (backwards)")}function o(n,o){window.test("search_"+n,o)}o("simple",(function(){n(new CodeMirror.Doc("abcdefg\nabcdefg"),"cde",!1,0,2,0,5,1,2,1,5)})),o("multiline",(function(){var o=new CodeMirror.Doc("hallo\na\nb\ngoodbye");n(o,"llo\na\nb\ngoo",!1,0,2,3,3),n(o,"blah\na\nb\nhall",!1),n(o,"bye\nx\neye",!1)})),o("regexp",(function(){var o=new CodeMirror.Doc("abcde\nabcde");n(o,/bcd/,!1,0,1,0,4,1,1,1,4),n(o,/BCD/,!1),n(o,/BCD/i,!1,0,1,0,4,1,1,1,4)})),o("regexpMultiline",(function(){var o=new CodeMirror.Doc("fom fom\nbar\nbaz");n(o,/fo[^]*az/,{multiline:!0},0,0,2,3),n(o,/[oa][^u]/,{multiline:!0},0,1,0,3,0,5,0,7,1,1,1,3,2,1,2,3),n(o,/[a][^u]{2}/,{multiline:!0},1,1,2,0)})),o("insensitive",(function(){var o=new CodeMirror.Doc("hallo\nHALLO\noink\nhAllO");n(o,"All",!1,3,1,3,4),n(o,"All",!0,0,1,0,4,1,1,1,4,3,1,3,4)})),o("multilineInsensitive",(function(){var o=new CodeMirror.Doc("zie ginds komT\nDe Stoomboot\nuit Spanje weer aan");n(o,"komt\nde stoomboot\nuit",!1),n(o,"komt\nde stoomboot\nuit",{caseFold:!0},0,10,2,3),n(o,"kOMt\ndE stOOmboot\nuiT",{caseFold:!0},0,10,2,3)})),o("multilineInsensitiveSlow",(function(){for(var o="",e=0;e<1e3;e++)o+="foo\nbar\n";var r=new CodeMirror.Doc("find\nme\n"+o+"find\nme\n"),i=+new Date;n(r,/find\nme/,{multiline:!0},0,0,1,2,2002,0,2003,2),is(+new Date-i<100)})),o("expandingCaseFold",(function(){var o=new CodeMirror.Doc("<b>\u0130\u0130 \u0130\u0130</b>\n<b>uu uu</b>");n(o,"</b>",!0,0,8,0,12,1,8,1,12),n(o,"\u0130\u0130",!0,0,3,0,5,0,6,0,8)})),o("normalize",(function(){if(String.prototype.normalize){var o=new CodeMirror.Doc("y\u0131lba\u015f\u0131\n\uc218 \uc788\uc744\uae4c\nLe taux d'humidit\xe9 \xe0 London");n(o,"s",!1,0,5,0,6),n(o,"\uc774",!1,1,2,1,3),n(o,"a",!1,0,4,0,5,2,4,2,5,2,19,2,20)}})),o("endOfLine",(function(){var o=new CodeMirror.Doc("bbcdb\nabcd\nbbcdb\nabcd");n(o,/[^b]$/,{multiline:!0},1,3,1,4,3,3,3,4),n(o,/b$/,!1,0,4,0,5,2,4,2,5)}))}();