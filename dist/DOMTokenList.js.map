{"version":3,"file":"DOMTokenList.js","sources":["../src/mapml/utils/DOMTokenList.js"],"sourcesContent":["export default class DOMTokenList {\n  /* jshint ignore:start */\n  #element; // create element as a private property\n  #valueSet; // needed to prevent infinite recursive calls to CE setAttribute\n  #attribute; // the name of the attribute that will be a DOMTokenList\n  #domain; // the domain of token values supported by this attribute\n  /* jshint ignore:end */\n  constructor(initialValue, element, attribute, domain) {\n    // create donor/host div to extract DomTokenList from\n    const hostingElement = document.createElement('div');\n    this.domtokenlist = hostingElement.classList;\n\n    // to check if value is being set, protects from infinite recursion\n    // from attributeChangedCallback of mapml-viewer and web-map\n    this.#valueSet = false; // jshint ignore:line\n    this.domtokenlist.value = initialValue ?? '';\n    this.#element = element; // jshint ignore:line\n    this.#attribute = attribute; // jshint ignore:line\n    this.#domain = domain; // jshint ignore:line\n  }\n\n  get valueSet() {\n    return this.#valueSet; // jshint ignore:line\n  }\n\n  get length() {\n    return this.domtokenlist.length;\n  }\n\n  get value() {\n    return this.domtokenlist.value;\n  }\n  set value(val) {\n    if (val === null) {\n      // when attribute is being removed\n      this.domtokenlist.value = '';\n    } else {\n      this.domtokenlist.value = val.toLowerCase();\n      /* jshint ignore:start */\n      this.#valueSet = true;\n      this.#element.setAttribute(this.#attribute, this.domtokenlist.value);\n      this.#valueSet = false;\n      /* jshint ignore:end */\n    }\n  }\n\n  item(index) {\n    return this.domtokenlist.item(index);\n  }\n\n  contains(token) {\n    return this.domtokenlist.contains(token);\n  }\n\n  // Modified default behavior\n  add(token) {\n    this.domtokenlist.add(token);\n    this.#element.setAttribute(this.#attribute, this.domtokenlist.value); // jshint ignore:line\n  }\n\n  // Modified default behavior\n  remove(token) {\n    this.domtokenlist.remove(token);\n    this.#element.setAttribute(this.#attribute, this.domtokenlist.value); // jshint ignore:line\n  }\n\n  // Modified default behavior\n  replace(oldToken, newToken) {\n    this.domtokenlist.replace(oldToken, newToken);\n    this.#element.setAttribute(this.#attribute, this.domtokenlist.value); // jshint ignore:line\n  }\n\n  // Modified default behavior\n  supports(token) {\n    /* jshint ignore:start */\n    if (this.#domain.includes(token)) {\n      return true;\n    } else {\n      return false;\n    }\n    /* jshint ignore:end */\n  }\n\n  // Modified default behavior\n  //https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/toggle\n  toggle(token, force) {\n    this.domtokenlist.toggle(token, force);\n    this.#element.setAttribute(this.#attribute, this.domtokenlist.value); // jshint ignore:line\n  }\n\n  entries() {\n    return this.domtokenlist.entries();\n  }\n\n  //https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/forEach\n  forEach(callback, thisArg) {\n    this.domtokenlist.forEach(callback, thisArg);\n  }\n\n  //https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/keys\n  keys() {\n    return this.domtokenlist.keys();\n  }\n\n  //https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/values\n  values() {\n    return this.domtokenlist.values();\n  }\n}\n"],"names":["DOMTokenList","#element","#valueSet","#attribute","#domain","constructor","initialValue","element","attribute","domain","hostingElement","document","createElement","this","domtokenlist","classList","value","valueSet","length","val","toLowerCase","setAttribute","item","index","contains","token","add","remove","replace","oldToken","newToken","supports","includes","toggle","force","entries","forEach","callback","thisArg","keys","values"],"mappings":";;qBAAqBA,aAEnBC,SACAC,UACAC,WACAC,QAEAC,YAAYC,EAAcC,EAASC,EAAWC,GAE5C,IAAMC,EAAiBC,SAASC,cAAc,OAC9CC,KAAKC,aAAeJ,EAAeK,UAInCF,KAAKX,WAAY,EACjBW,KAAKC,aAAaE,MAAQV,GAAgB,GAC1CO,KAAKZ,SAAWM,EAChBM,KAAKV,WAAaK,EAClBK,KAAKT,QAAUK,EAGjBQ,eACE,OAAOJ,KAAKX,UAGdgB,aACE,OAAOL,KAAKC,aAAaI,OAG3BF,YACE,OAAOH,KAAKC,aAAaE,MAE3BA,UAAUG,GACI,OAARA,EAEFN,KAAKC,aAAaE,MAAQ,IAE1BH,KAAKC,aAAaE,MAAQG,EAAIC,cAE9BP,KAAKX,WAAY,EACjBW,KAAKZ,SAASoB,aAAaR,KAAKV,WAAYU,KAAKC,aAAaE,OAC9DH,KAAKX,WAAY,GAKrBoB,KAAKC,GACH,OAAOV,KAAKC,aAAaQ,KAAKC,GAGhCC,SAASC,GACP,OAAOZ,KAAKC,aAAaU,SAASC,GAIpCC,IAAID,GACFZ,KAAKC,aAAaY,IAAID,GACtBZ,KAAKZ,SAASoB,aAAaR,KAAKV,WAAYU,KAAKC,aAAaE,OAIhEW,OAAOF,GACLZ,KAAKC,aAAaa,OAAOF,GACzBZ,KAAKZ,SAASoB,aAAaR,KAAKV,WAAYU,KAAKC,aAAaE,OAIhEY,QAAQC,EAAUC,GAChBjB,KAAKC,aAAac,QAAQC,EAAUC,GACpCjB,KAAKZ,SAASoB,aAAaR,KAAKV,WAAYU,KAAKC,aAAaE,OAIhEe,SAASN,GAEP,QAAIZ,KAAKT,QAAQ4B,SAASP,GAU5BQ,OAAOR,EAAOS,GACZrB,KAAKC,aAAamB,OAAOR,EAAOS,GAChCrB,KAAKZ,SAASoB,aAAaR,KAAKV,WAAYU,KAAKC,aAAaE,OAGhEmB,UACE,OAAOtB,KAAKC,aAAaqB,UAI3BC,QAAQC,EAAUC,GAChBzB,KAAKC,aAAasB,QAAQC,EAAUC,GAItCC,OACE,OAAO1B,KAAKC,aAAayB,OAI3BC,SACE,OAAO3B,KAAKC,aAAa0B"}