"use strict";(self.webpackChunkmapml_viewer_doc=self.webpackChunkmapml_viewer_doc||[]).push([[60],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>f});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=r.createContext({}),c=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=c(e.components);return r.createElement(s.Provider,{value:n},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(t),m=a,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||o;return t?r.createElement(f,i(i({ref:n},p),{},{components:t})):r.createElement(f,i({ref:n},p))}));function f(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=t[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},6350:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var r=t(7462),a=(t(7294),t(3905));const o={id:"building",title:"Construire \xe0 partir de la source"},i=void 0,l={unversionedId:"building",id:"building",title:"Construire \xe0 partir de la source",description:"Cr\xe9er le projet \xe0 partir du code source",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/building.md",sourceDirName:".",slug:"/building",permalink:"/web-map-doc/fr/docs/building",draft:!1,tags:[],version:"current",frontMatter:{id:"building",title:"Construire \xe0 partir de la source"},sidebar:"sidebar",previous:{title:"Installation",permalink:"/web-map-doc/fr/docs/installation"},next:{title:"<mapml-viewer>",permalink:"/web-map-doc/fr/docs/elements/mapml-viewer/"}},s={},c=[{value:"Cr\xe9er le projet \xe0 partir du code source",id:"cr\xe9er-le-projet-\xe0-partir-du-code-source",level:2}],p={toc:c},u="wrapper";function d(e){let{components:n,...t}=e;return(0,a.kt)(u,(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"cr\xe9er-le-projet-\xe0-partir-du-code-source"},"Cr\xe9er le projet \xe0 partir du code source"),(0,a.kt)("p",null,"Plut\xf4t que d\u2019installer la version publi\xe9e de la biblioth\xe8que avec npm, vous pouvez apporter les derni\xe8res modifications au projet \xe0 partir d\u2019un clone du code source. Pour ce faire, vous devez d\u2019abord installer node.js et npm."),(0,a.kt)("p",null,"Clonez le projet \xe0 l\u2019aide du logiciel Git :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ git clone https://github.com/Maps4HTML/Web-Map-Custom-Element.git web-map-custom-element\nCloning into 'web-map-custom-element'...\nremote: Enumerating objects: 23005, done.\nremote: Counting objects: 100% (959/959), done.\nremote: Compressing objects: 100% (472/472), done.\nremote: Total 23005 (delta 602), reused 746 (delta 473), pack-reused 22046\nReceiving objects: 100% (23005/23005), 92.76 MiB | 34.93 MiB/s, done.\nResolving deltas: 100% (8424/8424), done.\nUpdating files: 100% (217/217), done.\n\n$\n")),(0,a.kt)("p",null,"Changez les r\xe9pertoires dans le r\xe9pertoire clon\xe9 et ex\xe9cutez la commande \xab npm install \xbb pour installer les d\xe9pendances relatives au d\xe9veloppement du projet :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"prushfor@DESKTOP-8T9A8T8 MINGW64 ~/Documents/web-map-custom-element (main)\n$ cd web-map-custom-element\n$ npm install --legacy-peer-deps\n...\nadded 976 packages from 513 contributors and audited 978 packages in 33.576s\n\nprushfor@DESKTOP-8T9A8T8 MINGW64 ~/Documents/web-map-custom-element (main)\n$\n")),(0,a.kt)("p",null,'Finally, build the project from source with "grunt", which should have been installed by npm in the previous step:'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'$ grunt default\nRunning "clean:dist" (clean) task\n>> 1 path cleaned.\n\nRunning "copy:main" (copy) task\nMODIFYING:  node_modules/leaflet/dist/leaflet-src.js\nMODIFYING:  node_modules/proj4/dist/proj4-src.js\nPATCHING:  node_modules/proj4leaflet/src/proj4leaflet.js\nMODIFYING:  node_modules/@runette/leaflet-fullscreen/dist/Leaflet.fullscreen.js\nMODIFYING:  index.html\nCopied 12 files\n\nRunning "copy:images" (copy) task\nCopied 5 files\n\nRunning "jshint:files" (jshint) task\n>> 30 files lint free.\n\nRunning "rollup:main" (rollup) task\n\nRunning "uglify:dist" (uglify) task\n>> 1 file created 259.75 kB \u0393\xe5\xc6 125.97 kB\n\nDone.\n\nprushfor@DESKTOP-8T9A8T8 MINGW64 ~/Documents/web-map-custom-element (main)\n$\n')),(0,a.kt)("p",null,"Comme indiqu\xe9 par la derni\xe8re commande, votre r\xe9pertoire de projet devrait maintenant contenir un dossier intitul\xe9 \u2018dist\u2019, lequel contient les art\xe9facts de compilation n\xe9cessaires \xe0 la cr\xe9ation de pages Web contenant des cartes. Vous pouvez copier le dossier ",(0,a.kt)("inlineCode",{parentName:"p"},"dist")," dans votre site Web o\xf9 vous cr\xe9ez les pages HTML qui renvoient au module JavaScript racine comprenant les \xe9l\xe9ments personnalis\xe9s ",(0,a.kt)("inlineCode",{parentName:"p"},"<mapml-viewer>"),". Par exemple :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'prushfor@DESKTOP-8T9A8T8 MINGW64 ~/Documents/web-map-custom-element/mysite (main)\n$ mkdir mysite\n$ cp -r dist mysite\n$ cd mysite\n$ cat > index.html << EOF\n<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width,initial-scale=1">\n    <title>index.html</title>\n    <script type="module" src="dist/mapml-viewer.js"><\/script>\n    <style>\n      html,body {height: 100%;}\n      * {padding: 0;margin: 0;padding: 0;}\n      mapml-viewer:defined {max-width: 100%;width: 100%;height: 100%;border: none;vertical-align: middle;}\n    </style>\n  </head>\n  <body>\n    <mapml-viewer projection="CBMTILE" zoom="2" lat="45" lon="-90" controls>\n      <layer- label="Canada Base Map" src="https://geogratis.gc.ca/mapml/en/cbmtile/cbmt/" checked></layer->\n    </mapml-viewer>\n  </body>\n</html>\nEOF\nprushfor@DESKTOP-8T9A8T8 MINGW64 ~/Documents/web-map-custom-element/mysite (main)\n$ \n')),(0,a.kt)("p",null,"Vous pouvez g\xe9rer votre r\xe9pertoire \xab mysite \xbb avec n\u2019importe quel serveur Web. Si vous chargez la page index.html dans un navigateur Web, vous devriez voir une carte Web interactive pleine grandeur du Canada."))}d.isMDXComponent=!0}}]);