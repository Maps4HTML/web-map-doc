var htmlEditor=CodeMirror.fromTextArea(document.getElementById("htmlEditor"),{mode:"xml",screenReaderLabel:"MapML Demo Code",autoCloseTags:!0,extraKeys:{Tab:!1,"Shift-Tab":!1}}),cssEditor=CodeMirror.fromTextArea(document.getElementById("cssEditor"),{mode:"css",screenReaderLabel:"MapML Demo Code",autoCloseTags:!0,extraKeys:{Tab:!1,"Shift-Tab":!1}});function plot(){let e=new DOMParser,t=htmlEditor.getValue(),r=e.parseFromString(t,"text/html");r=r.querySelector("mapml-viewer");let l=cssEditor.getValue(),a=e.parseFromString("<map-style>"+l+"</map-style>","text/html").querySelector("map-style"),o=r.querySelectorAll("layer-");for(i=0;i<o.length;++i)o[i].appendChild(a);let d=document.getElementById("output");d.replaceChild(r,d.querySelector("mapml-viewer"))}function switchTab(e,t){let r,l,a;for(l=document.getElementsByClassName("tabcontent"),r=0;r<l.length;r++)l[r].style.display="none";for(a=document.getElementsByClassName("tablinks"),r=0;r<a.length;r++)a[r].className=a[r].className.replace(" active","");document.getElementById(t).style.display="inline-block",htmlEditor.refresh(),cssEditor.refresh(),e.currentTarget.className+=" active"}window.onload=e=>{let t=new DOMParser,r=htmlEditor.getValue(),l=t.parseFromString(r,"text/html");l=l.querySelector("mapml-viewer");let a=cssEditor.getValue(),o=t.parseFromString("<map-style>"+a+"</map-style>","text/html").querySelector("map-style"),d=l.querySelectorAll("layer-");for(i=0;i<d.length;++i)d[i].appendChild(o);document.getElementById("output").appendChild(l)},document.getElementById("default").click();try{let e=window.parent.document.querySelectorAll("input[type=checkbox]")[0];e.addEventListener("change",(e=>{e.target.checked?document.querySelector("html").setAttribute("data-theme","dark"):document.querySelector("html").setAttribute("data-theme","light")})),e.checked?document.querySelector("html").setAttribute("data-theme","dark"):document.querySelector("html").setAttribute("data-theme","light"),window.parent.window.addEventListener("load",(e=>{window.parent.document.querySelectorAll("input[type=checkbox]")[0].checked?document.querySelector("html").setAttribute("data-theme","dark"):document.querySelector("html").setAttribute("data-theme","light")}))}catch(err){}