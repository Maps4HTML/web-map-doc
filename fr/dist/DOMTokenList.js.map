{"version":3,"file":"DOMTokenList.js","sources":["../src/mapml/utils/DOMTokenList.js"],"sourcesContent":["export default class DOMTokenList {\n  /* jshint ignore:start */\n\t#element; // create element as a private property\n\t#valueSet;  // needed to prevent infinite recursive calls to CE setAttribute\n  \t#attribute // the name of the attribute that will be a DOMTokenList\n  \t#domain; // the domain of token values supported by this attribute\n  /* jshint ignore:end */\n\tconstructor (initialValue, element, attribute, domain) {\n\t\t// create donor/host div to extract DomTokenList from\n\t\tconst hostingElement = document.createElement('div');\n\t\tthis.domtokenlist = hostingElement.classList;\n\t\t\n\t\t// to check if value is being set, protects from infinite recursion\n\t\t// from attributeChangedCallback of mapml-viewer and web-map\n\t\tthis.#valueSet = false;// jshint ignore:line\n\t\tthis.domtokenlist.value = initialValue ?? '';\n\t\tthis.#element = element;// jshint ignore:line\n    \tthis.#attribute = attribute;// jshint ignore:line\n    \tthis.#domain = domain;// jshint ignore:line\n\t}\n\t\n\tget valueSet () {\n\t\treturn this.#valueSet;// jshint ignore:line\n\t}\n\n\tget length () {\n\t\treturn this.domtokenlist.length;\n\t}\n\n\tget value () {\n\t\treturn this.domtokenlist.value;\n\t}\n\tset value (val) {\n\t\tif (val === null) {\n\t\t\t// when attribute is being removed\n\t\t\tthis.domtokenlist.value = \"\";\n\t\t} else {\n\t\t\tthis.domtokenlist.value = val.toLowerCase();\n        \t/* jshint ignore:start */\n\t\t\tthis.#valueSet = true;\n\t\t\tthis.#element.setAttribute(this.#attribute, this.domtokenlist.value);\n\t\t\tthis.#valueSet = false;\n        \t/* jshint ignore:end */\n\t\t}\n\t}\n\n\titem (index) {\n\t\treturn this.domtokenlist.item(index);\n\t}\n\n\tcontains(token) {\n\t\treturn this.domtokenlist.contains(token);\n\t}\n\n\t// Modified default behavior\n\tadd (token) {\n\t\tthis.domtokenlist.add(token);\n\t\tthis.#element.setAttribute(this.#attribute, this.domtokenlist.value);// jshint ignore:line\n\t}\n\n\t// Modified default behavior\n\tremove (token) {\n\t\tthis.domtokenlist.remove(token);\n\t\tthis.#element.setAttribute(this.#attribute, this.domtokenlist.value);// jshint ignore:line\n\t}\n\n\t// Modified default behavior\n\treplace (oldToken, newToken) {\n\t\tthis.domtokenlist.replace(oldToken, newToken);\n\t\tthis.#element.setAttribute(this.#attribute, this.domtokenlist.value);// jshint ignore:line\n\t}\n\n\t// Modified default behavior\n\tsupports (token) {\n    /* jshint ignore:start */\n      if (this.#domain.includes(token)) { \n        return true;\n      } else {\n        return false;\n      }\n    /* jshint ignore:end */\n\t}\n\n\t// Modified default behavior\n\t//https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/toggle\n\ttoggle (token, force) {\n\t\tthis.domtokenlist.toggle(token, force);\n\t\tthis.#element.setAttribute(this.#attribute, this.domtokenlist.value);// jshint ignore:line\n\t}\n\n\tentries () {\n\t\treturn this.domtokenlist.entries();\n\t}\n\n\t//https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/forEach\n\tforEach (callback, thisArg) {\n\t\tthis.domtokenlist.forEach(callback, thisArg);\n\t}\n\n\t//https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/keys\n\tkeys () {\n\t\treturn this.domtokenlist.keys();\n\t}\n\n\t//https://developer.mozilla.org/en-US/docs/Web/API/DOMTokenList/values\n\tvalues () {\n\t\treturn this.domtokenlist.values();\n\t}\n}\n"],"names":["DOMTokenList","#element","#valueSet","#attribute","#domain","constructor","initialValue","element","attribute","domain","hostingElement","document","createElement","this","domtokenlist","classList","value","valueSet","length","val","toLowerCase","setAttribute","item","index","contains","token","add","remove","replace","oldToken","newToken","supports","includes","toggle","force","entries","forEach","callback","thisArg","keys","values"],"mappings":";;qBAAqBA,aAEpBC,SACAC,UACEC,WACAC,QAEFC,YAAaC,EAAcC,EAASC,EAAWC,GAE9C,IAAMC,EAAiBC,SAASC,cAAc,OAC9CC,KAAKC,aAAeJ,EAAeK,UAInCF,KAAKX,WAAY,EACjBW,KAAKC,aAAaE,MAAQV,GAAgB,GAC1CO,KAAKZ,SAAWM,EACbM,KAAKV,WAAaK,EAClBK,KAAKT,QAAUK,EAGnBQ,eACC,OAAOJ,KAAKX,UAGbgB,aACC,OAAOL,KAAKC,aAAaI,OAG1BF,YACC,OAAOH,KAAKC,aAAaE,MAE1BA,UAAWG,GACE,OAARA,EAEHN,KAAKC,aAAaE,MAAQ,IAE1BH,KAAKC,aAAaE,MAAQG,EAAIC,cAE9BP,KAAKX,WAAY,EACjBW,KAAKZ,SAASoB,aAAaR,KAAKV,WAAYU,KAAKC,aAAaE,OAC9DH,KAAKX,WAAY,GAKnBoB,KAAMC,GACL,OAAOV,KAAKC,aAAaQ,KAAKC,GAG/BC,SAASC,GACR,OAAOZ,KAAKC,aAAaU,SAASC,GAInCC,IAAKD,GACJZ,KAAKC,aAAaY,IAAID,GACtBZ,KAAKZ,SAASoB,aAAaR,KAAKV,WAAYU,KAAKC,aAAaE,OAI/DW,OAAQF,GACPZ,KAAKC,aAAaa,OAAOF,GACzBZ,KAAKZ,SAASoB,aAAaR,KAAKV,WAAYU,KAAKC,aAAaE,OAI/DY,QAASC,EAAUC,GAClBjB,KAAKC,aAAac,QAAQC,EAAUC,GACpCjB,KAAKZ,SAASoB,aAAaR,KAAKV,WAAYU,KAAKC,aAAaE,OAI/De,SAAUN,GAEL,QAAIZ,KAAKT,QAAQ4B,SAASP,GAU/BQ,OAAQR,EAAOS,GACdrB,KAAKC,aAAamB,OAAOR,EAAOS,GAChCrB,KAAKZ,SAASoB,aAAaR,KAAKV,WAAYU,KAAKC,aAAaE,OAG/DmB,UACC,OAAOtB,KAAKC,aAAaqB,UAI1BC,QAASC,EAAUC,GAClBzB,KAAKC,aAAasB,QAAQC,EAAUC,GAIrCC,OACC,OAAO1B,KAAKC,aAAayB,OAI1BC,SACC,OAAO3B,KAAKC,aAAa0B"}